% THIS DOCUMENT IS TAILORED TO REQUIREMENTS FOR SCIENTIFIC COMPUTING.  IT SHOULDN'T
% BE USED FOR NON-SCIENTIFIC COMPUTING PROJECTS
\documentclass[12pt]{article}

\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{svg}


\usepackage[round]{natbib}

%\usepackage{refcheck}

\hypersetup{
    bookmarks=true,         % show bookmarks bar?
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\input{../Comments}
\input{../Common}

% For easy change of table widths
\newcommand{\colZwidth}{1.0\textwidth}
\newcommand{\colAwidth}{0.13\textwidth}
\newcommand{\colBwidth}{0.82\textwidth}
\newcommand{\colCwidth}{0.1\textwidth}
\newcommand{\colDwidth}{0.05\textwidth}
\newcommand{\colEwidth}{0.8\textwidth}
\newcommand{\colFwidth}{0.17\textwidth}
\newcommand{\colGwidth}{0.5\textwidth}
\newcommand{\colHwidth}{0.28\textwidth}

% Used so that cross-references have a meaningful prefix
\newcounter{defnum} %Definition Number
\newcommand{\dthedefnum}{GD\thedefnum}
\newcommand{\dref}[1]{GD\ref{#1}}
\newcounter{datadefnum} %Datadefinition Number
\newcommand{\ddthedatadefnum}{DD\thedatadefnum}
\newcommand{\ddref}[1]{DD\ref{#1}}
\newcounter{theorynum} %Theory Number
\newcommand{\tthetheorynum}{TM\thetheorynum}
\newcommand{\tref}[1]{TM\ref{#1}}
\newcounter{tablenum} %Table Number
\newcommand{\tbthetablenum}{TB\thetablenum}
\newcommand{\tbref}[1]{TB\ref{#1}}
\newcounter{assumpnum} %Assumption Number
\newcommand{\atheassumpnum}{A\theassumpnum}
\newcommand{\aref}[1]{A\ref{#1}}
\newcounter{goalnum} %Goal Number
\newcommand{\gthegoalnum}{GS\thegoalnum}
\newcommand{\gsref}[1]{GS\ref{#1}}
\newcounter{instnum} %Instance Number
\newcommand{\itheinstnum}{IM\theinstnum}
\newcommand{\iref}[1]{IM\ref{#1}}
\newcounter{reqnum} %Requirement Number
\newcommand{\rthereqnum}{R\thereqnum}
\newcommand{\rref}[1]{R\ref{#1}}
\newcounter{nfrnum} %NFR Number
\newcommand{\rthenfrnum}{NFR\thenfrnum}
\newcommand{\nfrref}[1]{NFR\ref{#1}}
\newcounter{lcnum} %Likely change number
\newcommand{\lthelcnum}{LC\thelcnum}
\newcommand{\lcref}[1]{LC\ref{#1}}

\usepackage{fullpage}

\newcommand{\deftheory}[9][Not Applicable]
{
\newpage
\noindent \rule{\textwidth}{0.5mm}

\paragraph{RefName: } \textbf{#2} \phantomsection 
\label{#2}

\paragraph{Label:} #3

\noindent \rule{\textwidth}{0.5mm}

\paragraph{Equation:}

#4

\paragraph{Description:}

#5

\paragraph{Notes:}

#6

\paragraph{Source:}

#7

\paragraph{Ref.\ By:}

#8

\paragraph{Preconditions for \hyperref[#2]{#2}:}
\label{#2_precond}

#9

\paragraph{Derivation for \hyperref[#2]{#2}:}
\label{#2_deriv}

#1

\noindent \rule{\textwidth}{0.5mm}

}

\begin{document}

\title{Software Requirements Specification for 2D Robot Arms for Path Planning} 
\author{\ Ziyang(Ryan) Fang}
\date{\today}
	
\maketitle

~\newpage

\pagenumbering{roman}

\tableofcontents

~\newpage

\section*{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Feb 02 2025 & 1.0 & Notes\\
April 5 2025 & 2.0 & Notes\\
% Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}



~\newpage

\section{Reference Material}

This section records information for easy reference.

\subsection{Table of Units}

Throughout this document SI (Syst\`{e}me International d'Unit\'{e}s) is employed
as the unit system.  In addition to the basic units, several derived units are
used as described below.  For each unit, the symbol is given followed by a
description of the unit and the SI name.
~\newline

\renewcommand{\arraystretch}{1.2}
  \noindent \begin{tabular}{l l l} 
    \toprule		
    \textbf{Symbol} & \textbf{Description} & \textbf{SI Unit}\\
    \midrule 
    \si{\metre} & length & metre (m) \\
    \si{\second} & time & second (s) \\
    \si{\radian} & angle & radian (rad) \\
    \bottomrule
  \end{tabular}


\subsection{Table of Symbols}

The following table provides a summary of the symbols used throughout this document, along with their respective units and descriptions. The choice of symbols aligns with conventions in robotics and motion planning literature to ensure consistency and clarity. Symbols are listed in alphabetical order for easy reference.

\renewcommand{\arraystretch}{1.2}
%\noindent \begin{tabularx}{1.0\textwidth}{l l X}
\noindent \begin{longtable*}{l l p{12cm}} \toprule
\textbf{symbol} & \textbf{unit} & \textbf{description}\\
\midrule 
\( L \) & \si{\metre} & Link length of the robot arm \\
\( q \) & radians & Joint angle \\
\( \dot{q} \) & rad/s & Joint angular velocity \\
\( \ddot{q} \) & rad/s^2 & Joint angular acceleration \\
\( x, y \) & \si{\metre} & Cartesian coordinates of the end-effector \\
\( T \) & \si{\second} & Total time for motion execution \\
\( t \) & \si{\second} & Time step \\
\( \mathbf{q}_{\text{init}} \) & radians & Initial joint configuration \\
\( \mathbf{q}_{\text{goal}} \) & radians & Goal joint configuration \\
\( O_i \) & \si{\metre} & Position of the \(i\)-th obstacle (circular) \\
\( r_i \) & \si{\metre} & Radius of the \(i\)-th obstacle \\
% \( M \) & - & Number of discrete joint positions in A* search grid \\
\( \theta_i \) & radians & Discretized joint angle for A* search \\
% \( \mathcal{G} \) & - & Occupancy grid (joint space) \\
\( \mathbf{p}_i \) & \si{\metre} & Position of the \(i\)-th joint \\

\bottomrule
\end{longtable*}


\subsection{Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  A & Assumption\\
  DD & Data Definition\\
  GD & General Definition\\
  GS & Goal Statement\\
  IM & Instance Model\\
  LC & Likely Change\\
  PS & Physical System Description\\
  R & Requirement\\
  SRS & Software Requirements Specification\\
  TM & Theoretical Model\\
  IK & Inverse Kinematics \\
  FK & Forward Kinematics \\
  A* & A-star Pathfinding Algorithm \\
  DOF & Degrees of Freedom \\
  EE & End-Effector \\
  % \progname{} & 2DPL\\
  2D-RAPP & 2D Robot Arm Path Planning\\
  \bottomrule
\end{tabular}\\





\section{Introduction}
Path planning for robotic manipulators is a fundamental problem in robotics, enabling robots to move efficiently and safely within constrained environments. Unlike mobile robots that navigate in free space, robotic arms must operate in a higher-dimensional joint space, where each degree of freedom contributes to the overall complexity of motion planning. Traditional inverse kinematics (IK) methods solve for joint angles that satisfy end-effector goals, but they often struggle with obstacle avoidance and computational efficiency in real-time applications.

This document provides an overview of the Software Requirements Specification (SRS) for a 2D robotic arm path planning system based on a graph-based inverse kinematics (IK) approach with A* search. The developed program will be referred to as 2D Robot Arm Path Planning (2D-RAPP) throughout this document. This section explains the purpose of this document, the scope of the requirements, the characteristics of the intended reader, and the organization of the document.

\subsection{Purpose of Document}
The primary purpose of this document is to record the requirements of 2D-RAPP. Goals, assumptions, theoretical models, definitions, and other derivation information are specified, allowing the reader to fully understand and verify the purpose and scientific basis of 2D-RAPP. With the exception of system constraints, this SRS remains abstract, describing what problem is being solved, but not how to solve it.

This document serves as a starting point for subsequent development phases, including writing the design specification and the software verification and validation plan. The design document will show how the requirements are to be realized, including decisions on numerical algorithms, data structures, and programming frameworks. The verification and validation plan will outline the steps required to increase confidence in the softwareâ€™s correctness, reliability, and performance. 

Although this SRS follows a structured documentation approach, it does not impose any specific software development methodology. Regardless of whether a waterfall, agile, or iterative development process is followed, it remains useful to present the documentation in a way that maintains clarity and logical structure, as recommended by Parnas and Clements.\citet{SmithAndLai2005, SmithEtAl2007,
SmithAndKoothoor2016}



\subsection{Scope of Requirements} 
The scope of the requirements includes path planning for a 2D robotic arm with N revolute joints, operating in a workspace with circular obstacles. The system is designed to compute collision-free paths in joint space, using distance-based inverse kinematics and search algorithms.


\subsection{Characteristics of Intended Reader} \label{sec_IntendedReader}
Reviewers of this documentation should have a fundamental understanding of robotics kinematics at an undergraduate level, specifically covering forward kinematics, inverse kinematics, and path planning. Familiarity with graph-based search algorithms (such as A*) and numerical optimization techniques is also recommended.



\subsection{Organization of Document}

This document follows the standard structure of an SRS for scientific computing software. It begins with the problem statement and goals, followed by theoretical foundations, definitions, and assumptions. The document then presents instance models and specific requirements.

The problem is introduced through kinematic models and path planning techniques, including forward and inverse kinematics and graph-based search methods. Assumptions related to joint constraints and obstacle avoidance are also outlined.

Readers can approach this document either top-down, starting from goals to implementation, or bottom-up, beginning with instance models and tracing back to theoretical foundations. The instance model IM:PathPlanning defines the core algorithm for collision-free motion planning of a 2D robot arm.


\section{General System Description}

This section provides general information about the system.  It identifies the
interfaces between the system and its environment, describes the user
characteristics and lists the system constraints. 


\subsection{System Context}


Fig.~\ref{Fig:SysCon} illustrates the system context. The circle represents the user, an external entity providing inputs to the system. The rectangle represents the software system, 2D-RAPP. Arrows indicate the data flow between the user and the system.

\begin{figure}[h!]
\centering
\includegraphics[width=0.8\textwidth]{SystemContextFigure}
\caption{System Context}
\label{Fig:SysCon}
\end{figure}

The interaction between the user and the system is described as follows:

\subsubsection*{User Responsibilities}
\begin{itemize}
    \item Provide the input data to the system, including:
    \begin{itemize}
        \item \textbf{Link lengths} (\(L = [l_1, l_2, \dots, l_n]\)): a list of positive real numbers specifying the length of each robotic arm segment.
        \item \textbf{Joint limits} (\(J = [(a_1, b_1), (a_2, b_2), \dots, (a_n, b_n)]\)): the allowable angle range for each joint.
        \item \textbf{Obstacle data}: a list of obstacles defined by their center positions and radii: \(O_i = (x_i, y_i, r_i)\).
        \item \textbf{Start configuration} (\(q_{\text{start}} \in \mathbb{R}^n\)): the initial joint angles of the robot in radians.
        \item \textbf{Goal configuration} (\(q_{\text{goal}} \in \mathbb{R}^n\)): the target joint angles to be reached.
    \end{itemize}
    \item Ensure the input data is accurate and in the required unit
    
\end{itemize}

\subsubsection*{2D-RAPP Responsibilities}
\begin{itemize}
    \item  Detect input errors, such as invalid data types, joint angle configurations outside of specified limits, or inconsistent angle units (e.g., degrees vs radians). Proper error messages are displayed via the GUI to guide user corrections.
    \item Verify that the inputs satisfy physical and software constraints.
    \item Compute a collision-free trajectory for the robotic arm, including:
    \begin{itemize}
        \item Joint angles (\(q\), \(\dot{q}\), \(\ddot{q}\)) for each motion stage.
        \item Cartesian path (\(x, y\)) of the end-effector.
    \end{itemize}
    \item Provide a visual representation of the robotic arm's movement and obstacle avoidance.
    \item Detect unreachable goal positions:
    \begin{itemize}
        \item If the target position is not reachable due to kinematic limitations or obstacles, return an empty result.
        \item Notify the user that the goal position cannot be reached.
    \end{itemize}
\end{itemize}

This system context defines the roles and interactions between the user and the 2D-RAPP system, ensuring clarity in the data flow and system responsibilities.


\subsection{User Characteristics} \label{SecUserCharacteristics}
The intended users of \progname{} are individuals with a background in robotics, computer science, and mechanical engineering. They are expected to have at least undergraduate-level understanding of forward and inverse kinematics, as well as exposure to basic path planning algorithms such as A*, RRT, or Dijkstra.



\subsection{System Constraints}
The system uses A* search on a toroidal configuration space for path planning. This decision constrains the path planner to discrete grids and admissible heuristics, and may limit real-time scalability for high-dimensional arms. Other planning algorithms such as RRT or PRM could be integrated in future versions.



\section{Specific System Description}

This section first presents the problem description, which gives a high-level
view of the problem to be solved.  This is followed by the solution characteristics
specification, which presents the assumptions, theories, definitions and finally
the instance models. The system focuses on generating a collision-free trajectory for a 2D robotic arm in an environment with static obstacles. The robotic arm is modeled as a serial manipulator with revolute joints, and its configuration is defined by a set of joint angles.


\subsection{Problem Description} \label{Sec_pd}

\progname{} is intended to solve the path planning for 2D robotic arms.



\subsubsection{Terminology and  Definitions}


This subsection provides a list of terms that are used in the subsequent
sections and their meaning, with the purpose of reducing ambiguity and making it
easier to correctly understand the requirements:

\begin{itemize}

  \item \textbf{Joint space:} The space defined by the possible values of the robot armâ€™s joint angles.
  
  \item \textbf{Workspace:} The Cartesian space where the end-effector of the robotic arm can reach.
  
  \item \textbf{Obstacle:} A static circular object in the workspace that the robotic arm must avoid.
  
  \item \textbf{Trajectory:} A sequence of joint configurations representing a smooth motion of the robotic arm from the start to the goal.
  
  \item \textbf{Configuration:} A specific set of joint angles that fully describes the position of the robotic arm.
  
  \item \textbf{Collision detection:} The process of determining whether the robotic arm intersects with an obstacle.
  
  \item \textbf{Path planning:} The process of computing a collision-free sequence of configurations to move the robotic arm from the start to the goal.
  
  \item \textbf{Inverse kinematics:} The process of determining joint angles given a desired end-effector position.
  
  \item \textbf{Forward kinematics:} The computation of the end-effector position given joint angles.
  
  \end{itemize}

\subsubsection{Physical System Description} \label{sec_phySystDescrip}


The physical system of \progname{}, as shown in Figure~\ref{Fig:Robotic arm},
includes the following elements:

\begin{itemize}

  \item[PS1:] A robotic arm with N revolute joints, defining a N-link planar mechanism.
  
  \item[PS2:] The environment contains static circular obstacles that must be avoided by the arm.
  
  \item[PS3:] A discretized joint space where joint angles are sampled uniformly to form a toroidal search space.
  
  \item[PS4:] A start configuration that represents the initial joint angles of the robotic arm.
  
  \item[PS5:] A goal configuration that represents the desired joint angles to reach the target position.
  
  \item[PS6:] The A* algorithm used to compute the shortest collision-free path in joint space.
  
  \end{itemize}


\begin{figure}[h!]
\begin{center}
%\rotatebox{-90}
{
 \includegraphics[width=0.5\textwidth]{Physical System Description}
}
\caption{Robotic arm finding a path to target point}
\label{Fig:Robotic arm} 
\end{center}
\end{figure}

\subsubsection{Goal Statements} \label{sec_Goal}    

\noindent Given the initial joint angles, the goal joint angles, and the obstacle locations, the goal statements are:

\begin{itemize}

\item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_CollisionFreePath}:] Compute a collision-free trajectory in joint space from the start configuration to the goal configuration.

\item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_OptimizePath}:] Minimize the number of joint-space steps between start and goal configurations, each being a collision-free discrete configuration.

% \item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_SmoothMotion}:] Generate a smooth and continuous motion trajectory for the robotic arm.

% \item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_PathSafety}:] Validate the safety of the planned path by verifying obstacle-free movement at each configuration.

\end{itemize}

\subsection{Solution Characteristics Specification}

The instance models that govern \progname{} are presented in the Instance Model Section. The necessary information to understand the meaning of the instance models and their derivation is also included, ensuring that the instance models can be verified. The solution characteristics describe the assumptions, theoretical foundations, and mathematical formulations that define the problem space and provide a basis for trajectory planning and obstacle avoidance in robotic arm motion.


\begin{figure}[H]
  \includegraphics[scale=0.9]{RelationsBetweenTM_GD_IM_DD_A.pdf}
\end{figure}

The instance models that govern \progname{} are presented in
Subsection~\ref{sec_instance}.  The information to understand the meaning of the
instance models and their derivation is also presented, so that the instance
models can be verified.

\subsubsection{Assumptions} \label{sec_assumpt}


This section simplifies the original problem and helps in developing the
theoretical model by filling in the missing information for the physical system.
The numbers given in the square brackets refer to the theoretical model [TM],
general definition [GD], data definition [DD], instance model [IM], or likely
change [LC], in which the respective assumption is used.

\begin{itemize}

  \item[A\refstepcounter{assumpnum}\theassumpnum \label{A_KinematicMotionOnly}:] 
  The motion of the robotic arm is modeled purely kinematically, without considering the effects of dynamics such as forces, torques, or friction. (RefBy: IM:PathPlanning)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_LinkLengthsConstant}:] 
  The lengths of all links in the robotic arm are constant and do not change during motion. (RefBy: GD:ForwardKinematics)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_JointMotionContinuous}:] 
  The joint angles of the robotic arm vary smoothly and continuously without sudden jumps. (RefBy: IM:TrajectoryGeneration)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_NoMechanicalDeflection}:] 
  The robotic arm links are considered rigid, meaning there is no mechanical deflection or deformation. (RefBy: GD:InverseKinematics)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_ObstacleShapeCircular}:] 
  Obstacles in the environment are approximated as circles with predefined radii. (RefBy: IM:CollisionDetection)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_TrajectoryDiscretized}:] 
  The planned trajectory is discretized into a series of intermediate waypoints in joint space. (RefBy: IM:TrajectoryGeneration)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_InitialAndGoalConfigurationsKnown}:] 
  The initial joint configuration and the goal joint configuration are known before path planning begins. (RefBy: IM:PathPlanning)

\end{itemize}

\subsubsection{Theoretical Models}\label{sec_theoretical}

This section focuses on the general equations and laws that \progname{} is based
on. The theoretical models serve as fundamental principles governing the kinematic motion and path planning of the robotic arm. 

~\newline
\noindent
\deftheory
% #2 refname of theory
{TM:FWDKinematics}
% #3 label
{Forward Kinematics}
% #4 equation
{
\[
  \mathbf{x} = f(\mathbf{q}) = 
  \begin{bmatrix}
    \sum_{i=1}^{n} L_i \cos\left(\sum_{j=1}^{i}\theta_j\right) \\[6pt]
    \sum_{i=1}^{n} L_i \sin\left(\sum_{j=1}^{i}\theta_j\right)
  \end{bmatrix}
\]
}
% #5 description
{
This equation describes the forward kinematics function $f$, mapping the joint angles $\mathbf{q}$ to the Cartesian position $\mathbf{x}$ of the robotic arm's end-effector for an $n$-link planar manipulator.

\begin{itemize}
    \item $n$: The number of links in the robotic arm.
    \item $\mathbf{q} = [\theta_1, \theta_2, \dots, \theta_n]^T$: The vector of joint angles, where $\theta_i$ is the relative angle of joint $i$.
    \item $\mathbf{x} = [x, y]^T$: Cartesian position of the end-effector (in \si{\metre}), computed relative to the arm's base at the origin.
    \item $f$: Forward kinematics mapping function, converting joint angles ($\mathbf{q}$) into the end-effector position ($\mathbf{x}$).
    \item $L_i$: Length of link $i$ (\si{\metre}), connecting joint $i$ to joint $(i+1)$.
\end{itemize}

This general formulation supports robotic arms with an arbitrary number of joints, enabling flexibility for various planar manipulator configurations.
}
% #6 Notes
{
This forward kinematics model assumes:
\begin{itemize}
    \item Rigid links: All links are perfectly rigid and do not deform under load (\aref{A_LinkLengthsConstant}).
    \item Fixed base: The robotic arm base is stationary, positioned at the origin $(0, 0)$.
    \item Planar motion: All arm movements are restricted to a 2D plane without out-of-plane motion.
\end{itemize}

}
% #7 Source
{
Adapted from \url{https://atsushisakai.github.io/PythonRobotics/modules/7_arm_navigation/planar_two_link_ik.html}
}
% #8 Referenced by
{
\dref{GD_AStar_DiscreteJointSpace}
}
% #9 Preconditions
{
None
}
% #1 derivation - not applicable by default
{}

% second model
\noindent
\deftheory
% #2 refname of theory
{TM:SegmentCircleCollision}
% #3 label
{Collision Detection Between Line Segment and Circular Obstacle}
% #4 equation
{
Let the endpoints of a link segment be $\mathbf{a}=[x_1, y_1]$ and $\mathbf{b}=[x_2, y_2]$, and the circular obstacle have center $\mathbf{c}=[c_x, c_y]$ with radius $r$. Define the closest point $\mathbf{p}$ on the segment to the circle center as:

\[
t = \frac{(\mathbf{c}-\mathbf{a})\cdot(\mathbf{b}-\mathbf{a})}{\|\mathbf{b}-\mathbf{a}\|^2}, \quad
t' = \text{clip}(t, 0, 1), \quad
\mathbf{p} = \mathbf{a}+ t'(\mathbf{b}-\mathbf{a})
\]

Then collision occurs if:
\[
\|\mathbf{p}-\mathbf{c}\|\le r
\]
}
% #5 description
{
This theoretical model determines whether a robotic arm link, modeled as a line segment, intersects (collides) with a circular obstacle. It uses geometric projection to find the shortest distance from the circle center to the segment, checking if it is less than or equal to the obstacle's radius.

\begin{itemize}
    \item $\mathbf{a}, \mathbf{b}$: Endpoints of the line segment representing the robotic arm link (in Cartesian coordinates, \si{\metre}).
    \item $\mathbf{c}$: Center of the circular obstacle (Cartesian coordinates, \si{\metre}).
    \item $r$: Radius of the circular obstacle (\si{\metre}).
    \item $t'$: Clipped scalar projection factor ensuring the closest point remains within the segment bounds.
    \item $\mathbf{p}$: Closest point on the segment to the circle center.
    \item $t'$: Clipped scalar projection factor ensuring the closest point remains within the segment bounds. Specifically, $t'$ is constrained to $[0, 1]$ such that
    \[
    t' = 
    \begin{cases}
        0 & \text{if } t < 0 \\
        t & \text{if } 0 \leq t \leq 1 \\
        1 & \text{if } t > 1
    \end{cases}
    \]
\end{itemize}

This method is computationally efficient and accurate for planar collision detection between line segments and circular obstacles.
}
% #6 Notes
{
This model assumes:

\begin{itemize}
    \item The arm links are perfectly rigid and represented as straight line segments (\aref{A_LinkLengthsConstant}).
    \item Obstacles are modeled as perfect circles.
    \item The robotic arm operates exclusively in a 2D plane without deformation.
\end{itemize}
}
% #7 Source
{
Adapted from collision detection concepts in computational geometry: \\
\url{https://www.geometrictools.com/Documentation/DistancePointLine.pdf}
}
% #8 Referenced by
{
\dref{GD_AStar_DiscreteJointSpace}
}
% #9 Preconditions
{
None
}
% #1 derivation - not applicable by default
{}



%% third model
\noindent
\deftheory
% #2 refname of theory
{TM:AStarJointSpace}
% #3 label
{A* Search Algorithm in Discretized Toroidal Joint Space}
% #4 equation
{
The A* search algorithm finds the optimal path between start node $\mathbf{s}$ and goal node $\mathbf{g}$ in an $n$-dimensional discrete joint space of resolution $M$ per dimension. The evaluation function is defined as:

\[
f(\mathbf{n}) = g(\mathbf{n}) + h(\mathbf{n})
\]

where:

\[
g(\mathbf{n})=\text{cost from start to node } \mathbf{n}, \quad h(\mathbf{n})=\sum_{i=1}^{n} \min\left(|n_i-g_i|, M-|n_i-g_i|\right)
\]

}
% #5 description
{
This theoretical model describes the A* search algorithm adapted to a toroidal (wrap-around) discretized joint configuration space for robotic arm path planning. The heuristic $h(n)$ used is the toroidal Manhattan distance, providing an admissible heuristic suitable for discrete, periodic search spaces.

\begin{itemize}
    \item $\mathbf{n}=[n_1, n_2, \dots, n_n]$: Current node indices in the discretized joint-space grid.
    \item $\mathbf{s}$: Start configuration node indices.
    \item $\mathbf{g}$: Goal configuration node indices.
    \item $M$: Number of discrete intervals per joint dimension.
    \item $g(\mathbf{n})$: Actual cost from the start to the node $\mathbf{n}$ (each step has uniform cost = 1).
    \item $h(\mathbf{n})$: Heuristic estimated cost from node $\mathbf{n}$ to goal $\mathbf{g}$.
    \item $f(\mathbf{n})$: Total estimated cost function guiding the search.
\end{itemize}

The algorithm iteratively explores neighboring nodes until the optimal path from $\mathbf{s}$ to $\mathbf{g}$ is found or all possibilities are exhausted.
}
% #6 Notes
{
This theoretical model assumes:

\begin{itemize}
    \item The joint configuration space is discretized into uniform intervals.
    \item The space has a toroidal structure, allowing joints to wrap around from $-\pi$ to $\pi$.
    \item Each step between neighboring configurations has an equal cost of 1.
    \item The heuristic is admissible (never overestimates cost), ensuring optimality of the solution.
\end{itemize}
}
% #7 Source
{
Adapted from standard A* algorithm definitions:\\
\url{https://en.wikipedia.org/wiki/A*_search_algorithm}
}
% #8 Referenced by
{
  \dref{GD_AStar_DiscreteJointSpace}
}
% #9 Preconditions
{
The start and goal nodes must be within the defined grid dimensions.
}
% #1 derivation - not applicable by default
{}



~\newline

\subsubsection{General Definitions}\label{sec_gendef}

This section collects the laws and equations that will be used in building the instance models.

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number & GD\refstepcounter{defnum}\thedefnum \label{GD_AStar_DiscreteJointSpace} \\
\hline
Label & \bf A* Heuristic in Discretized Toroidal Joint Space \\
\hline
SI Units & Unitless (grid indices) \\
\hline
Equation &
\[
h(\mathbf{n}) = \sum_{i=1}^{n} \min\left( |n_i - g_i|, M - |n_i - g_i| \right)
\]
\\
\hline
Description & 
This equation defines the toroidal Manhattan distance used as the heuristic function $h(\mathbf{n})$ in the A* algorithm for robotic arm joint-space planning.

\\
& $n$ is the number of joints (dimensions of the search space). \\
& $\mathbf{n} = [n_1, n_2, \dots, n_n]$ is the current node index in the discretized joint space. \\
& $\mathbf{g} = [g_1, g_2, \dots, g_n]$ is the goal node index. \\
& $M$ is the number of discrete bins per joint (grid resolution). \\
& The $\min$ term handles wrap-around behavior in toroidal space. For example, the distance from bin $0$ to bin $M-1$ is 1, not $M-1$. \\

& Assumptions:
\begin{itemize}
    \item The joint space is discretized uniformly into $M$ bins per joint.
    \item The joint angle space is toroidal (wraps around at $-\pi$ and $\pi$).
    \item The heuristic must be admissible and consistent for A* to be optimal.
\end{itemize}
\\
\hline
Source & Adapted from: \url{https://en.wikipedia.org/wiki/A*_search_algorithm} \\
\hline
Ref.\ By & \dref{TM:AStarJointSpace} \\
\hline
\end{tabular}
\end{minipage}\\

\subsubsection*{Detailed derivation of A* heuristic in toroidal joint space}

The A* algorithm requires a heuristic function $h(\mathbf{n})$ to estimate the cost from a current node $\mathbf{n}$ to the goal node $\mathbf{g}$. In a discretized $n$-dimensional joint space with $M$ bins per dimension (corresponding to uniformly sampled angles), we aim to define a heuristic that:

\begin{itemize}
    \item Is admissible (never overestimates true cost),
    \item Is consistent (ensures optimal pathfinding),
    \item Accounts for toroidal topology (wrap-around effect).
\end{itemize}

\begin{enumerate}
    \item In each joint dimension $i$, the shortest distance from current index $n_i$ to goal index $g_i$ must consider both clockwise and counter-clockwise directions due to wrapping. 
    \item The forward (absolute) distance is $|n_i - g_i|$.
    \item The wrap-around distance is $M - |n_i - g_i|$.
    \item The effective shortest distance in that dimension is:
    \[
    d_i = \min(|n_i - g_i|, M - |n_i - g_i|)
    \]
    \item Summing over all $n$ joint dimensions gives the total heuristic:
    \[
    h(\mathbf{n}) = \sum_{i=1}^{n} d_i = \sum_{i=1}^{n} \min(|n_i - g_i|, M - |n_i - g_i|)
    \]
\end{enumerate}

This formulation respects the periodicity of angular joint space, making it ideal for pathfinding on robotic arms with revolute joints. It guarantees optimality and efficiency in A* search when used as the heuristic function.




\subsubsection{Data Definitions}\label{sec_datadef}

This section defines and collects the essential data needed to build the instance models. The variables defined here will be used throughout the document.

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number & DD\refstepcounter{datadefnum}\thedatadefnum \label{DD_EndEffectorPosition}\\
\hline
Label & \textbf{End-Effector Position Definition} \\
\hline
Symbol & $\mathbf{x} = (x, y)$ \\
\hline
SI Units & \si{\metre} \\
\hline
Equation &
\[
x = \sum_{i=1}^{n} L_i \cos\left(\sum_{j=1}^{i} \theta_j \right), \quad
y = \sum_{i=1}^{n} L_i \sin\left(\sum_{j=1}^{i} \theta_j \right)
\]
\\
\hline
Description &
This definition gives the Cartesian coordinates $(x, y)$ of the end-effector, computed from the joint angles $\theta_i$ and link lengths $L_i$ of a planar $n$-link robotic manipulator.

\begin{itemize}
    \item $\theta_i$: Joint angle (radians)
    \item $L_i$: Length of link $i$ (mm)
    \item $\mathbf{x} = (x, y)$: Cartesian coordinates of the end-effector
\end{itemize}

This data definition specifies how to calculate $\mathbf{x}$ and provides a consistent notation for use in instance models such as path planning and obstacle avoidance.
\\
\hline
Source & Robotics textbook or GD:ForwardKinematics \\
\hline
Ref. By & \dref{IM:TrajectoryGeneration}, \dref{IM:ObstacleAvoidance} \\
\hline
\end{tabular}
\end{minipage}\\




\subsubsection{Data Types}\label{sec_datatypes}

This section defines the data types used in the robotic arm path planning (2D-RAPP) system. These types are used to specify inputs, intermediate values, and outputs in the models.

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
  \hline
  \rowcolor[gray]{0.9}
  \textbf{Type Name} & \textbf{Formal Definition and Description} \\
  \hline
  \texttt{Angle} & $\theta \in [-\pi, \pi] \subset \mathbb{R}$ â€” Represents joint angles of the robotic arm in radians. \\
  \hline
  \texttt{Length} & $L \in \mathbb{R}_{\ge 0}$ â€” Represents physical lengths (e.g., arm links, obstacle radii) in millimetres. \\
  \hline
  \texttt{Position} & $\mathbf{x} = (x, y) \in \mathbb{R}^2$ â€” A 2D Cartesian coordinate in millimetres. \\
  \hline
  \texttt{Velocity} & $\dot{\theta} \in \mathbb{R}$ â€” Joint angular velocity in radians per second. \\
  \hline
  \texttt{Acceleration} & $\ddot{\theta} \in \mathbb{R}$ â€” Joint angular acceleration in radians per second squared. \\
  \hline
  \texttt{Obstacle} & $O = (x, y, r)$ with $(x, y) \in \mathbb{R}^2$, $r \in \mathbb{R}_{>0}$ â€” Represents a circular obstacle. \\
  \hline
  \texttt{Boolean} & $b \in \{\texttt{true}, \texttt{false}\}$ â€” A binary flag indicating feasibility of a path or result. \\
  \hline
\end{tabular}
\end{minipage}\\



\subsubsection{Instance Models} \label{sec_instance}

This section transforms the problem defined in Section~\ref{Sec_pd} into one expressed in mathematical terms. It uses concrete symbols defined in Section~\ref{sec_datadef} to replace the abstract symbols in the models identified in Sections~\ref{sec_theoretical} and~\ref{sec_gendef}.

The goal statements \ref{sec_Goal} are addressed by the following instance models:

~\newline


\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
  \hline
  \rowcolor[gray]{0.9}
  Number & IM\refstepcounter{instnum}\theinstnum \label{IM:ArmPathPlanning}\\
  \hline
  Label & \bf 2D Robotic Arm Path Planning \\
  \hline
  Input 
  &
  \begin{itemize}
    \item $\mathbf{q}_{\text{init}}, \mathbf{q}_{\text{goal}}$: Initial and goal joint configurations.
    \item $O_i = (x_i, y_i, r_i)$: Circular obstacles in Cartesian space.
    \item Joint limits (\aref{A_JointMotionContinuous}) and other constraints.
  \end{itemize}
  \\
  \hline
  Output 
  &
  A collision-free path (or empty if infeasible), represented as 
  \[
     \mathbf{Q}_{\text{path}} = [\mathbf{q}_1, \mathbf{q}_2, \dots, \mathbf{q}_N]
  \]
  each $\mathbf{q}_k$ a valid joint configuration. Optionally, a continuous trajectory $\mathbf{q}(t)$ can be generated through interpolation.
  \\
  \hline
  Description
  &
  This instance model unifies path planning and collision avoidance for a 2D robotic arm with $n$ revolute joints.

  \textbf{Key steps:}
  \begin{enumerate}
     \item \textbf{Discrete Search (A*):} Use the toroidal joint-space A* model (\tref{TM:AStarJointSpace}) to find a minimal-step path of valid configurations from $\mathbf{q}_{\text{init}}$ to $\mathbf{q}_{\text{goal}}$.
     \item \textbf{Collision Detection:} Each candidate $\mathbf{q}$ is validated via segment-circle checks (\tref{TM:SegmentCircleCollision}), using forward kinematics (\tref{TM:FWDKinematics}) to map joint angles to link endpoints.
     \item \textbf{Trajectory Generation (Optional):} If a discrete path is found, a continuous trajectory $\mathbf{q}(t)$ can be formed (e.g., spline interpolation) for smooth execution.
  \end{enumerate}

  The path or trajectory must satisfy:
  \begin{itemize}
    \item No collisions with obstacles (\aref{A_ObstacleShapeCircular}).
    \item Joint limits do not exceed physical constraints (\aref{A_JointMotionContinuous}).
    \item If no valid path, return an infeasibility result.
  \end{itemize}

  This addresses the goal statements of computing a collision-free path 
  (\gsref{GS_CollisionFreePath}) and minimizing the path length (via the A* step count) 
  (\gsref{GS_OptimizePath}).
  \\
  \hline
  Sources
  &
  \tref{TM:AStarJointSpace}, \tref{TM:SegmentCircleCollision}, \tref{TM:FWDKinematics}
  \\
  \hline
  Ref.\ By 
  &
  \rref{R_Calculate}, \rref{R_VerifyOutput}
  \\
  \hline
\end{tabular}
\end{minipage}\\

~\newline

\subsubsection*{Derivation of 2D Robotic Arm Path Planning}

This instance model is derived by combining the following theoretical models and assumptions:

\begin{itemize}
    \item \textbf{Forward Kinematics} (\tref{TM:FWDKinematics}): Maps any joint configuration $\mathbf{q}$ to the Cartesian positions of the armâ€™s links, enabling collision checks.
    \item \textbf{Collision Detection} (\tref{TM:SegmentCircleCollision}): Determines whether any link segment intersects a circular obstacle $O_i$.
    \item \textbf{Toroidal A* Search} (\tref{TM:AStarJointSpace}): Provides a pathfinding strategy in a discretized joint-space grid with wrap-around angles, applying an admissible heuristic to ensure an optimal solution with minimal steps.
\end{itemize}

At each step, the A* algorithm proposes a neighboring joint configuration, which is validated for collisions using the segment-circle model. If feasible, the configuration is explored in the search process. The final sequence of configurations from $\mathbf{q}_{\text{init}}$ to $\mathbf{q}_{\text{goal}}$ constitutes the minimal-step, collision-free path. Optional trajectory generation interpolates these discrete points into a continuous function $\mathbf{q}(t)$, respecting joint limits (\aref{A_JointMotionContinuous}) and ensuring a smooth motion plan.


~\newline



\subsubsection{Input Data Constraints} \label{sec_DataConstraints}    

Table~\ref{TblInputVar} shows the data constraints on the input variables. The column for physical constraints gives the physical limitations on the range of values that can be taken by the variable. The column for software constraints restricts the range of inputs to reasonable values. These software constraints will be helpful in the design stage for selecting suitable algorithms. The constraints are conservative to give users flexibility in experimenting with unusual situations. The column of typical values provides a reference for common scenarios. The uncertainty column estimates the confidence with which the physical quantities can be measured. This information is useful for uncertainty quantification exercises.

The specification parameters in Table~\ref{TblInputVar} are listed in Table~\ref{TblSpecParams}.

\begin{table}[!h]
  \caption{Input Variables for 2D-RAPP} \label{TblInputVar}
  \renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l l l c} 
  \toprule
  \textbf{Var} & \textbf{Physical Constraints} & \textbf{Software Constraints} &
                             \textbf{Typical Value} & \textbf{Uncertainty}\\
  \midrule 
  $L_1, L_2$ & $L_i > 0$ & $L_{\text{min}} \leq L_i \leq L_{\text{max}}$ & 1.0 \si[per-mode=symbol] {\metre} & 5\%
  \\
  $\theta_1, \theta_2$ & $-\pi \leq \theta_i \leq \pi$ & $-\pi \leq \theta_i \leq \pi$ & 0 \si[per-mode=symbol]{\radian} & 1\%
  \\
  $x_{\text{goal}}, y_{\text{goal}}$ & Defined workspace bounds & Within reachable workspace & (1.5, 1.5) \si[per-mode=symbol]{\metre} & 10\%
  \\
  $r_{\text{obs}}$ & $r_{\text{obs}} > 0$ & $r_{\text{obs}} \leq r_{\text{max}}$ & 0.3 \si[per-mode=symbol]{\metre} & 5\%
  \\
  $(x_{\text{obs}}, y_{\text{obs}})$ & Within workspace bounds & Within workspace bounds & (0.5, 0.5) \si[per-mode=symbol]{\metre} & 10\%
  \\
  \bottomrule
\end{longtable*}
\end{table}

\noindent 
\begin{description}
\item[(*)] $\theta_1, \theta_2$ are the joint angles of the robotic arm.
\item[(*)] $L_1, L_2$ are the lengths of the arm segments.
\item[(*)] $x_{\text{goal}}, y_{\text{goal}}$ define the Cartesian coordinates of the target.
\item[(*)] $(x_{\text{obs}}, y_{\text{obs}})$ and $r_{\text{obs}}$ define the position and size of obstacles.
\end{description}

\begin{table}[!h]
\caption{Specification Parameter Values for 2D-RAPP} \label{TblSpecParams}
\renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l} 
  \toprule
  \textbf{Var} & \textbf{Value} \\
  \midrule 
  $L_\text{min}$ & 0.1 \si{\metre}\\
  $L_\text{max}$ & 2.0 \si{\metre}\\
  $r_{\text{max}}$ & 0.5 \si{\metre}\\
  \bottomrule
\end{longtable*}
\end{table}


\subsubsection{Properties of a Correct Solution} \label{sec_CorrectSolution}

As previously discussed, a correct trajectory must be collision-free, kinematically feasible, and respect joint and workspace constraints.



\section{Requirements}

This section provides the functional requirements, the business tasks that the
software is expected to complete, and the nonfunctional requirements, the
qualities that the software is expected to exhibit.

\subsection{Functional Requirements}

\noindent \begin{itemize}

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_Inputs}:]  
    The system shall accept the following inputs from the user, collectively defined as the input set \( \mathcal{I} \):
    \[
      \mathcal{I} = \left\{ \mathbf{q}_{\text{init}}, \mathbf{x}_{\text{goal}}, \mathcal{O}, \mathbf{L} \right\}
    \]
    where:
    \begin{itemize}
      \item \( \mathbf{q}_{\text{init}} = (\theta_1, \dots, \theta_N) \): initial joint angles (radians).
      \item \( \mathbf{x}_{\text{goal}} = (x, y) \): goal position in Cartesian coordinates (\si{\metre}).
      \item \( \mathcal{O} = \{ (x_i, y_i, r_i) \mid i = 1,\dots,M \} \): obstacle positions and radii (\si{\metre}).
      \item \( \mathbf{L} = (L_1, \dots, L_N) \): link lengths of the robotic arm (\si{\metre}).
    \end{itemize}
    \textbf{Trace to:} \iref{IM:ArmPathPlanning}

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_OutputInputs}:]  
    The system shall echo all elements in \( \mathcal{I} \) to confirm correctness before computation.  
    

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_Calculate}:]  
    The system shall perform the following calculations:
    \begin{itemize}
      \item Use forward kinematics (\tref{TM:FWDKinematics}) to compute end-effector positions from \( \mathbf{q} \).
      \item Use A* search (\tref{TM:AStarJointSpace}) to generate a collision-free path in joint space from \( \mathbf{q}_{\text{init}} \) to the joint configuration corresponding to \( \mathbf{x}_{\text{goal}} \).
      \item Construct a time-indexed path \( \mathbf{q}(t) \) through intermediate joint configurations for smooth execution.
    \end{itemize}
    

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_VerifyOutput}:]  
    The system shall verify that:
    \begin{itemize}
      \item The path \( \mathbf{q}(t) \) is collision-free with respect to \( \mathcal{O} \) (\tref{TM:SegmentCircleCollision}).
      \item The final configuration \( \mathbf{q}_{\text{final}} \) maps via forward kinematics to the goal position \( \mathbf{x}_{\text{goal}} \) (\tref{TM:FWDKinematics}).
      \item The trajectory is continuous, feasible, and respects all joint and link constraints.
    \end{itemize}
    

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_Output}:]  
    The system shall output the following:
    \begin{itemize}
      \item A discrete sequence \( \mathbf{q}(t_0), \mathbf{q}(t_1), \dots, \mathbf{q}(t_k) \) in joint space.
      \item Corresponding Cartesian path \( \mathbf{x}(t) \) of the end-effector.
      \item A visualization including the arm trajectory and obstacles.
    \end{itemize}
    

\end{itemize}



  
  \subsection{Nonfunctional Requirements}

  This section defines the nonfunctional requirements that specify the qualities and characteristics the software should exhibit.
  
  \noindent \begin{itemize}
  
  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Accuracy}:]  
  \textbf{Accuracy} \\
The system shall compute the robotic arm trajectory with an accuracy sufficient for motion planning in a 2D environment. The precision of the joint angles shall be within \(0.01\) radians, and the calculated Cartesian positions of the end-effector shall have an error margin within \(0.1\) cm. 

Accuracy is verified through both analytical comparison and visual confirmation:

\begin{itemize}
  \item \textbf{Analytical oracle:} For each configuration along the planned trajectory \(\mathbf{q}(t)\), the system computes the expected end-effector position \(\mathbf{x}_{\text{expected}}(t)\) using the forward kinematics model (\tref{TM:FWDKinematics}). The output is deemed accurate if:
  \[
  \|\mathbf{x}_{\text{actual}}(t) - \mathbf{x}_{\text{expected}}(t)\| < 0.001~\text{m}
  \]
  \item \textbf{Visual oracle:} The GUI module displays the animated arm trajectory alongside obstacles. Users can visually inspect whether the motion respects the environment constraints and achieves the goal position with expected smoothness and precision.
\end{itemize}

See \href{https://github.com/FangZiyang/CAS741-Ryan/blob/main/docs/VnVPlan/VnVPlan.pdf}{V\&V plan} for test design and validation procedures.

  
  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Maintainability}:]  
    \textbf{Maintainability} \\
    The effort required to make likely modifications to the software (such as adjusting the planning algorithm or adding new constraints) shall be at most \(10\%\) of the original development time, assuming the same development resources are available. Code modularization and documentation will facilitate future modifications.

  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Verifiability}:]  
    \textbf{Verifiability} \\
    The correctness of the system shall be tested with a complete verification and validation (V\&V) plan. \href{https://github.com/FangZiyang/CAS741-Ryan/blob/main/docs/VnVPlan/VnVPlan.pdf}{V\&V plan} The outputs shall be compared against theoretical models and experimental data.
  
  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Understandability}:]  
    \textbf{Understandability} \\
    The software architecture shall be modular and self-descriptive. Each module shall include a clearly written interface specification and a corresponding documentation file. Every public function shall include docstrings that specify input/output types and purpose. Inline comments shall be added to explain non-obvious implementation logic. Understandability will be evaluated through peer review and code inspection checklists.
  
  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Reusability}:]  
    \textbf{Reusability} \\
    The system shall support reuse of key planning components (e.g., collision checking, A* search, forward kinematics) across different robotic manipulators. All configuration-dependent parameters (e.g., number of joints, link lengths) shall be externally specified in JSON or parameter files. Module interfaces shall not be hardcoded to any specific robot model, enabling reuse in future planar path-planning applications.
  
  \end{itemize}
  

  \subsection{Rationale}

  This section provides justifications for the decisions made in the documentation, including scope choices, modeling approaches, assumptions, and typical values.
  
  \noindent \begin{itemize}
  
  \item \textbf{Scope Decisions:}  
  The scope is limited to 2D kinematic motion planning for a two-link robotic arm. This choice simplifies computations by avoiding the complexities of dynamic control and multi-degree-of-freedom motion. The system focuses on trajectory planning and collision avoidance, which are critical for robotic applications in structured environments.
  
  \item \textbf{Modeling Decisions:}  
  The system models the robotic arm using forward kinematics and inverse kinematics equations. The choice of the A* algorithm for trajectory planning ensures optimal pathfinding in discrete joint space. A toroidal occupancy grid is used to handle the periodic nature of joint angles while maintaining computational efficiency.
  
  \item \textbf{Assumptions:}  
  Several assumptions were made to reduce computational complexity and improve efficiency:
    \begin{itemize}
      \item The robotic arm consists of two rigid links with fixed lengths (\aref{A_LinkLengthsConstant}).
      \item The motion occurs strictly in a 2D plane, ignoring dynamic effects such as inertia and external forces.
      \item The joint angles are constrained within \([- \pi, \pi]\) to ensure practical movement constraints.
    \end{itemize}
  
  \item \textbf{Typical Values:}  
  The choice of typical values for input parameters is based on real-world robotic systems:
    \begin{itemize}
      \item Link lengths (\si{\metre}): $L_1 = 50$, $L_2 = 40$ 
      \item Joint angle range (\si{\radian}): $[-\pi, \pi]$
      \item Obstacle radii (\si{\metre}): $r_i \in [5, 15]$ 
    \end{itemize}
    These values ensure a balance between computational efficiency and practical usability.
  
  \end{itemize}
  


  \section{Likely Changes}    

  \noindent \begin{itemize}
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_GridResolution}:]  
  The resolution of the discrete grid used for A* search may need to be adjusted for better accuracy or computational efficiency. A finer grid provides more precise motion planning but increases computation time. (\aref{A_TrajectoryDiscretized})
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_ObstacleShapes}:]  
  Currently, obstacles are modeled as circles for simplicity. Future iterations may need to support arbitrary polygonal obstacles to better reflect real-world scenarios. (\aref{A_ObstacleShapeCircular})
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_PathPlanningAlgorithm}:]  
  The path-planning algorithm may need to be changed. Alternatives such as RRT (Rapidly-exploring Random Tree) or D* Lite might be required for more complex environments or real-time applications. 
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_Kinematics}:]  
  If the system is extended to 3D, the forward kinematics equations will need to be updated to account for additional degrees of freedom. 
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_JointLimits}:]  
  The current joint angle limits assume a symmetric range of motion. Some robotic arms have mechanical constraints that may require asymmetric limits, which would need to be accounted for in the calculations.
  
  \end{itemize}

  \section{Unlikely Changes}    

  \noindent \begin{itemize}
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_FixedLinkLengths}:]  
  The link lengths of the robotic arm are assumed to be fixed. Future versions are not expected to support variable-length arms or telescopic links. (\aref{A_LinkLengthsConstant})
  
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_NoDynamics}:]  
  The system is based purely on kinematics and does not consider dynamics (forces, torques, or inertia). It is unlikely that dynamics will be incorporated in this version. (\aref{A_KinematicMotionOnly})
  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_FixedCollisionDetection}:]  
  The collision detection method assumes static obstacles. It is unlikely that dynamic obstacles (moving objects) will be introduced in this implementation. (\aref{A_ObstacleShapeCircular})
  
  \end{itemize}
  

\section{Traceability Matrices and Graphs}

The purpose of the traceability matrices is to provide easy references on what
has to be additionally modified if a certain component is changed.  Every time a
component is changed, the items in the column of that component that are marked
with an ``X'' may have to be modified as well.  Table~\ref{Table:trace} shows the
dependencies of theoretical models, general definitions, data definitions, and
instance models with each other. Table~\ref{Table:R_trace} shows the
dependencies of instance models, requirements, and data constraints on each
other. Table~\ref{Table:A_trace} shows the dependencies of theoretical models,
general definitions, data definitions, instance models, and likely changes on
the assumptions.



\begin{table}[h!]
  \centering
  \begin{tabular}{|c|c|c|c|c|c|c|}
  \hline        
  & \hyperref[TM:FWDKinematics]{TM1}
  & \hyperref[TM:SegmentCircleCollision]{TM2}
  & \hyperref[TM:AStarJointSpace]{TM3}
  & \hyperref[GD_AStar_DiscreteJointSpace]{GD1}
  & \hyperref[DD_EndEffectorPosition]{DD1}
  & \hyperref[IM:ArmPathPlanning]{IM1} \\
  \hline
  \hyperref[TM:SegmentCircleCollision]{TM2} & & & & & & \\ \hline
  \hyperref[TM:FWDKinematics]{TM1}         & & & X & & & \\ \hline
  \hyperref[TM:SegmentCircleCollision]{TM2} & & & & & & \\ \hline
  \hyperref[TM:AStarJointSpace]{TM3}       & & & & & & \\ \hline
  \hyperref[GD_AStar_DiscreteJointSpace]{GD1} & X & & & & & \\ \hline
  \hyperref[DD_EndEffectorPosition]{DD1}   & & & & X & & \\ \hline
  \hyperref[IM:ArmPathPlanning]{IM1}       & & & & X & & \\ \hline
  \end{tabular}
  \caption{Traceability Matrix Showing the Connections Between Items of Different Sections}
  \label{Table:trace}
\end{table}



\begin{table}[h!]
  \centering
  \begin{tabular}{|c|c|c|c|c|c|c|c|}
  \hline
  & \hyperref[IM:ArmPathPlanning]{IM1} 
  & \hyperref[sec_DataConstraints]{DC} 
  & \rref{R_Inputs} 
  & \rref{R_OutputInputs} 
  & \rref{R_Calculate} 
  & \rref{R_VerifyOutput} 
  & \rref{R_Output} \\
  \hline
  
  \hyperref[IM:ArmPathPlanning]{IM1} & 
       & X &   &   &   & X & X \\ 
  \hline

  \rref{R_Inputs} & 
       &   &   &   &   &   &   \\ 
  \hline

  \rref{R_OutputInputs} & 
       &   &   &   &   & X &   \\ 
  \hline

  \rref{R_Calculate} & 
       &   &   &   & X &   &   \\ 
  \hline

  \rref{R_VerifyOutput} & 
       X &   &   &   &   &   &   \\ 
  \hline

  \rref{R_Output} & 
       X & X &   &   &   & X & X \\ 
  \hline
  \end{tabular}
  \caption{Traceability Matrix Showing the Connections Between Requirements and Instance Models}
  \label{Table:R_trace}
\end{table}

  

The purpose of the traceability graphs is also to provide easy references on
what has to be additionally modified if a certain component is changed.  The
arrows in the graphs represent dependencies. The component at the tail of an
arrow is depended on by the component at the head of that arrow. Therefore, if a
component is changed, the components that it points to should also be
changed. Figure~\ref{Fig_ATrace} shows the dependencies of theoretical models,
general definitions, data definitions, instance models, likely changes, and
assumptions on each other. Figure~\ref{Fig_RTrace} shows the dependencies of
instance models, requirements, and data constraints on each other.



\section{Development Plan}

The development of \progname{} will be structured into multiple phases, ensuring a modular and iterative approach. The implementation will prioritize core functionalities essential for the robotic arm's motion planning, followed by enhancements for efficiency and usability.

\subsection{Phase 1: Core Functionalities}
\begin{itemize}
    \item[R\ref{R_Inputs}:] Implement user input handling for joint angles, goal position, and obstacles.
    \item[R\ref{R_Calculate}:] Develop forward kinematics calculations to determine the end-effector position from joint angles.
    \item[R\ref{R_Output}:] Display the calculated position of the end-effector.
    \item[R\ref{R_VerifyOutput}:] Verify the correctness of kinematic calculations.
\end{itemize}

\subsection{Phase 2: Path Planning}
\begin{itemize}
    \item[R\ref{R_Calculate}:] Implement inverse kinematics to compute joint angles for a given target position.
    \item[R\ref{R_Calculate}:] Integrate A* search algorithm for path planning in joint space.
    \item[R\ref{R_VerifyOutput}:] Ensure path validity by checking for obstacle collisions.
\end{itemize}

\subsection{Phase 3: Optimization and Usability Enhancements}
\begin{itemize}
    \item[NFR\ref{NFR_Accuracy}:] Improve accuracy of kinematic computations.
    \item[NFR\ref{NFR_Maintainability}:] Ensure modularity in code for easy extension.
\end{itemize}

\section{Values of Auxiliary Constants}

The following table defines symbolic constants introduced in the document for maintainability and ease of modification.

\begin{table}[h!]
\centering
\begin{tabular}{|c|c|c|}
\hline
\textbf{Symbol} & \textbf{Description}  \\
\hline
$L_1$ & Length of first arm link (\si{\metre})  \\
$L_2$ & Length of second arm link (\si{\metre}) \\
$\theta_{\min}$ & Minimum joint angle (\si{\degree})  \\
$\theta_{\max}$ & Maximum joint angle (\si{\degree}) \\
$\Delta q$ & Discretization step for A* search (radians)  \\
$\text{FRACTION}$ & Fraction of original development time for maintainability\\
\hline
\end{tabular}
\caption{Values of Auxiliary Constants}
\label{Table:AuxiliaryConstants}
\end{table}

\newpage

\bibliographystyle {plainnat}
\bibliography {../../refs/References}

\newpage

\newpage{}
\section*{Appendix --- Reflection}

\wss{Not required for CAS 741}

The information in this section will be used to evaluate the team members on the
graduate attribute of Lifelong Learning.  
\input{../Reflection.tex}

\input{../SRS_Reflection.tex}
\end{document}