% THIS DOCUMENT IS TAILORED TO REQUIREMENTS FOR SCIENTIFIC COMPUTING.  IT SHOULDN'T
%DIF LATEXDIFF DIFFERENCE FILE
%DIF DEL SRS_old_version.tex   Fri Apr 18 23:04:58 2025
%DIF ADD SRS.tex               Fri Apr 18 23:06:25 2025
% BE USED FOR NON-SCIENTIFIC COMPUTING PROJECTS
\documentclass[12pt]{article}

\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{svg}

%DIF 23a23
 %DIF > 
%DIF -------
\usepackage[round]{natbib}

%\usepackage{refcheck}

\hypersetup{
    bookmarks=true,         % show bookmarks bar?
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\input{../Comments}
\input{../Common}

% For easy change of table widths
\newcommand{\colZwidth}{1.0\textwidth}
\newcommand{\colAwidth}{0.13\textwidth}
\newcommand{\colBwidth}{0.82\textwidth}
\newcommand{\colCwidth}{0.1\textwidth}
\newcommand{\colDwidth}{0.05\textwidth}
\newcommand{\colEwidth}{0.8\textwidth}
\newcommand{\colFwidth}{0.17\textwidth}
\newcommand{\colGwidth}{0.5\textwidth}
\newcommand{\colHwidth}{0.28\textwidth}

% Used so that cross-references have a meaningful prefix
\newcounter{defnum} %Definition Number
\newcommand{\dthedefnum}{GD\thedefnum}
\newcommand{\dref}[1]{GD\ref{#1}}
\newcounter{datadefnum} %Datadefinition Number
\newcommand{\ddthedatadefnum}{DD\thedatadefnum}
\newcommand{\ddref}[1]{DD\ref{#1}}
\newcounter{theorynum} %Theory Number
\newcommand{\tthetheorynum}{TM\thetheorynum}
\newcommand{\tref}[1]{TM\ref{#1}}
\newcounter{tablenum} %Table Number
\newcommand{\tbthetablenum}{TB\thetablenum}
\newcommand{\tbref}[1]{TB\ref{#1}}
\newcounter{assumpnum} %Assumption Number
\newcommand{\atheassumpnum}{A\theassumpnum}
\newcommand{\aref}[1]{A\ref{#1}}
\newcounter{goalnum} %Goal Number
\newcommand{\gthegoalnum}{GS\thegoalnum}
\newcommand{\gsref}[1]{GS\ref{#1}}
\newcounter{instnum} %Instance Number
\newcommand{\itheinstnum}{IM\theinstnum}
\newcommand{\iref}[1]{IM\ref{#1}}
\newcounter{reqnum} %Requirement Number
\newcommand{\rthereqnum}{R\thereqnum}
\newcommand{\rref}[1]{R\ref{#1}}
\newcounter{nfrnum} %NFR Number
\newcommand{\rthenfrnum}{NFR\thenfrnum}
\newcommand{\nfrref}[1]{NFR\ref{#1}}
\newcounter{lcnum} %Likely change number
\newcommand{\lthelcnum}{LC\thelcnum}
\newcommand{\lcref}[1]{LC\ref{#1}}

\usepackage{fullpage}

\newcommand{\deftheory}[9][Not Applicable]
{
\newpage
\noindent \rule{\textwidth}{0.5mm}

\paragraph{RefName: } \textbf{#2} \phantomsection 
\label{#2}

\paragraph{Label:} #3

\noindent \rule{\textwidth}{0.5mm}

\paragraph{Equation:}

#4

\paragraph{Description:}

#5

\paragraph{Notes:}

#6

\paragraph{Source:}

#7

\paragraph{Ref.\ By:}

#8

\paragraph{Preconditions for \hyperref[#2]{#2}:}
\label{#2_precond}

#9

\paragraph{Derivation for \hyperref[#2]{#2}:}
\label{#2_deriv}

#1

\noindent \rule{\textwidth}{0.5mm}

}
%DIF PREAMBLE EXTENSION ADDED BY LATEXDIFF
%DIF UNDERLINE PREAMBLE %DIF PREAMBLE
\RequirePackage[normalem]{ulem} %DIF PREAMBLE
\RequirePackage{color}\definecolor{RED}{rgb}{1,0,0}\definecolor{BLUE}{rgb}{0,0,1} %DIF PREAMBLE
\providecommand{\DIFaddtex}[1]{{\protect\color{blue}\uwave{#1}}} %DIF PREAMBLE
\providecommand{\DIFdeltex}[1]{{\protect\color{red}\sout{#1}}} %DIF PREAMBLE
%DIF SAFE PREAMBLE %DIF PREAMBLE
\providecommand{\DIFaddbegin}{} %DIF PREAMBLE
\providecommand{\DIFaddend}{} %DIF PREAMBLE
\providecommand{\DIFdelbegin}{} %DIF PREAMBLE
\providecommand{\DIFdelend}{} %DIF PREAMBLE
\providecommand{\DIFmodbegin}{} %DIF PREAMBLE
\providecommand{\DIFmodend}{} %DIF PREAMBLE
%DIF FLOATSAFE PREAMBLE %DIF PREAMBLE
\providecommand{\DIFaddFL}[1]{\DIFadd{#1}} %DIF PREAMBLE
\providecommand{\DIFdelFL}[1]{\DIFdel{#1}} %DIF PREAMBLE
\providecommand{\DIFaddbeginFL}{} %DIF PREAMBLE
\providecommand{\DIFaddendFL}{} %DIF PREAMBLE
\providecommand{\DIFdelbeginFL}{} %DIF PREAMBLE
\providecommand{\DIFdelendFL}{} %DIF PREAMBLE
%DIF HYPERREF PREAMBLE %DIF PREAMBLE
\providecommand{\DIFadd}[1]{\texorpdfstring{\DIFaddtex{#1}}{#1}} %DIF PREAMBLE
\providecommand{\DIFdel}[1]{\texorpdfstring{\DIFdeltex{#1}}{}} %DIF PREAMBLE
\newcommand{\DIFscaledelfig}{0.5}
%DIF HIGHLIGHTGRAPHICS PREAMBLE %DIF PREAMBLE
\RequirePackage{settobox} %DIF PREAMBLE
\RequirePackage{letltxmacro} %DIF PREAMBLE
\newsavebox{\DIFdelgraphicsbox} %DIF PREAMBLE
\newlength{\DIFdelgraphicswidth} %DIF PREAMBLE
\newlength{\DIFdelgraphicsheight} %DIF PREAMBLE
% store original definition of \includegraphics %DIF PREAMBLE
\LetLtxMacro{\DIFOincludegraphics}{\includegraphics} %DIF PREAMBLE
\newcommand{\DIFaddincludegraphics}[2][]{{\color{blue}\fbox{\DIFOincludegraphics[#1]{#2}}}} %DIF PREAMBLE
\newcommand{\DIFdelincludegraphics}[2][]{% %DIF PREAMBLE
\sbox{\DIFdelgraphicsbox}{\DIFOincludegraphics[#1]{#2}}% %DIF PREAMBLE
\settoboxwidth{\DIFdelgraphicswidth}{\DIFdelgraphicsbox} %DIF PREAMBLE
\settoboxtotalheight{\DIFdelgraphicsheight}{\DIFdelgraphicsbox} %DIF PREAMBLE
\scalebox{\DIFscaledelfig}{% %DIF PREAMBLE
\parbox[b]{\DIFdelgraphicswidth}{\usebox{\DIFdelgraphicsbox}\\[-\baselineskip] \rule{\DIFdelgraphicswidth}{0em}}\llap{\resizebox{\DIFdelgraphicswidth}{\DIFdelgraphicsheight}{% %DIF PREAMBLE
\setlength{\unitlength}{\DIFdelgraphicswidth}% %DIF PREAMBLE
\begin{picture}(1,1)% %DIF PREAMBLE
\thicklines\linethickness{2pt} %DIF PREAMBLE
{\color[rgb]{1,0,0}\put(0,0){\framebox(1,1){}}}% %DIF PREAMBLE
{\color[rgb]{1,0,0}\put(0,0){\line( 1,1){1}}}% %DIF PREAMBLE
{\color[rgb]{1,0,0}\put(0,1){\line(1,-1){1}}}% %DIF PREAMBLE
\end{picture}% %DIF PREAMBLE
}\hspace*{3pt}}} %DIF PREAMBLE
} %DIF PREAMBLE
\LetLtxMacro{\DIFOaddbegin}{\DIFaddbegin} %DIF PREAMBLE
\LetLtxMacro{\DIFOaddend}{\DIFaddend} %DIF PREAMBLE
\LetLtxMacro{\DIFOdelbegin}{\DIFdelbegin} %DIF PREAMBLE
\LetLtxMacro{\DIFOdelend}{\DIFdelend} %DIF PREAMBLE
\DeclareRobustCommand{\DIFaddbegin}{\DIFOaddbegin \let\includegraphics\DIFaddincludegraphics} %DIF PREAMBLE
\DeclareRobustCommand{\DIFaddend}{\DIFOaddend \let\includegraphics\DIFOincludegraphics} %DIF PREAMBLE
\DeclareRobustCommand{\DIFdelbegin}{\DIFOdelbegin \let\includegraphics\DIFdelincludegraphics} %DIF PREAMBLE
\DeclareRobustCommand{\DIFdelend}{\DIFOaddend \let\includegraphics\DIFOincludegraphics} %DIF PREAMBLE
\LetLtxMacro{\DIFOaddbeginFL}{\DIFaddbeginFL} %DIF PREAMBLE
\LetLtxMacro{\DIFOaddendFL}{\DIFaddendFL} %DIF PREAMBLE
\LetLtxMacro{\DIFOdelbeginFL}{\DIFdelbeginFL} %DIF PREAMBLE
\LetLtxMacro{\DIFOdelendFL}{\DIFdelendFL} %DIF PREAMBLE
\DeclareRobustCommand{\DIFaddbeginFL}{\DIFOaddbeginFL \let\includegraphics\DIFaddincludegraphics} %DIF PREAMBLE
\DeclareRobustCommand{\DIFaddendFL}{\DIFOaddendFL \let\includegraphics\DIFOincludegraphics} %DIF PREAMBLE
\DeclareRobustCommand{\DIFdelbeginFL}{\DIFOdelbeginFL \let\includegraphics\DIFdelincludegraphics} %DIF PREAMBLE
\DeclareRobustCommand{\DIFdelendFL}{\DIFOaddendFL \let\includegraphics\DIFOincludegraphics} %DIF PREAMBLE
%DIF AMSMATHULEM PREAMBLE %DIF PREAMBLE
\makeatletter %DIF PREAMBLE
\let\sout@orig\sout %DIF PREAMBLE
\renewcommand{\sout}[1]{\ifmmode\text{\sout@orig{\ensuremath{#1}}}\else\sout@orig{#1}\fi} %DIF PREAMBLE
\makeatother %DIF PREAMBLE
%DIF COLORLISTINGS PREAMBLE %DIF PREAMBLE
\RequirePackage{listings} %DIF PREAMBLE
\RequirePackage{color} %DIF PREAMBLE
\lstdefinelanguage{DIFcode}{ %DIF PREAMBLE
%DIF DIFCODE_UNDERLINE %DIF PREAMBLE
  moredelim=[il][\color{red}\sout]{\%DIF\ <\ }, %DIF PREAMBLE
  moredelim=[il][\color{blue}\uwave]{\%DIF\ >\ } %DIF PREAMBLE
} %DIF PREAMBLE
\lstdefinestyle{DIFverbatimstyle}{ %DIF PREAMBLE
	language=DIFcode, %DIF PREAMBLE
	basicstyle=\ttfamily, %DIF PREAMBLE
	columns=fullflexible, %DIF PREAMBLE
	keepspaces=true %DIF PREAMBLE
} %DIF PREAMBLE
\lstnewenvironment{DIFverbatim}{\lstset{style=DIFverbatimstyle}}{} %DIF PREAMBLE
\lstnewenvironment{DIFverbatim*}{\lstset{style=DIFverbatimstyle,showspaces=true}}{} %DIF PREAMBLE
\lstset{extendedchars=\true,inputencoding=utf8}

%DIF END PREAMBLE EXTENSION ADDED BY LATEXDIFF

\begin{document}

\title{Software Requirements Specification for 2D Robot Arms for Path Planning} 
\author{\ Ziyang(Ryan) Fang}
\date{\today}

\maketitle

~\newpage

\pagenumbering{roman}

\tableofcontents

~\newpage

\section*{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
  \toprule
  {\bf Date} & {\bf Version} & {\bf Notes} \\
  \midrule
  Feb 02 2025 & 1.0 & Notes \\
  \DIFaddbegin
  April 5 2025 & 2.0 & Notes \\
  \DIFaddend
  \bottomrule
\end{tabularx}




~\newpage

\section{Reference Material}

This section records information for easy reference.

\subsection{Table of Units}

Throughout this document SI (Syst\`{e}me International d'Unit\'{e}s) is employed
as the unit system.  In addition to the basic units, several derived units are
used as described below.  For each unit, the symbol is given followed by a
description of the unit and the SI name.
~\newline

\renewcommand{\arraystretch}{1.2}
  \noindent \begin{tabular}{l l l} 
    \toprule		
    \textbf{\DIFdelbegin \DIFdel{symbol}\DIFdelend \DIFaddbegin \DIFadd{Symbol}\DIFaddend } & \textbf{\DIFdelbegin \DIFdel{unit}\DIFdelend \DIFaddbegin \DIFadd{Description}\DIFaddend } & \textbf{SI \DIFaddbegin \DIFadd{Unit}\DIFaddend }\\
    \midrule 
    \DIFdelbegin \DIFdel{\si{\milli\metre} }\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend & length & \DIFdelbegin \DIFdel{millimetre }\DIFdelend \DIFaddbegin \DIFadd{metre (m) }\DIFaddend \\
    %DIF <  \si{\kilogram} & mass & kilogram \\
    \si{\second} & time & second \DIFaddbegin \DIFadd{(s) }\DIFaddend \\
    \DIFdelbegin \DIFdel{\( q \) }\DIFdelend \DIFaddbegin \DIFadd{\si{\radian} }\DIFaddend & \DIFdelbegin \DIFdel{joint }\DIFdelend angle & \DIFdelbegin \DIFdel{radians }\DIFdelend \DIFaddbegin \DIFadd{radian (rad) }\DIFaddend \\
    \DIFdelbegin \DIFdel{\(\dot{q}\) }%DIFDELCMD < & %%%
\DIFdel{joint velocity }%DIFDELCMD < & %%%
\DIFdel{rad/s }%DIFDELCMD < \\
%DIFDELCMD <     %%%
\DIFdel{\(\ddot{q}\) }%DIFDELCMD < & %%%
\DIFdel{joint acceleration }%DIFDELCMD < & %%%
\DIFdel{rad/s^2 }%DIFDELCMD < \\
%DIFDELCMD <     %%%
%DIF <  \si{\newton\metre} & torque & newton metre \\
    \DIFdelend \bottomrule
  \end{tabular}
%DIF < 	\caption{Provide a caption}
%DIF < \end{table}


\subsection{Table of Symbols}

The following table provides a summary of the symbols used throughout this document, along with their respective units and descriptions. The choice of symbols aligns with conventions in robotics and motion planning literature to ensure consistency and clarity. Symbols are listed in alphabetical order for easy reference.

\renewcommand{\arraystretch}{1.2}
%\noindent \begin{tabularx}{1.0\textwidth}{l l X}
\noindent \begin{longtable*}{l l p{12cm}} \toprule
\textbf{symbol} & \textbf{unit} & \textbf{description}\\
\midrule 
\( L \) & \DIFdelbegin \DIFdel{\si{\milli\metre} }\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend & Link length of the robot arm \\
\( q \) & radians & Joint angle \\
\( \dot{q} \) & rad/s & Joint angular velocity \\
\( \ddot{q} \) & rad/s^2 & Joint angular acceleration \\
\( x, y \) & \DIFdelbegin \DIFdel{\si{\milli\metre} }\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend & Cartesian coordinates of the end-effector \\
\( T \) & \si{\second} & Total time for motion execution \\
\( t \) & \si{\second} & Time step \\
\( \mathbf{q}_{\text{init}} \) & radians & Initial joint configuration \\
\( \mathbf{q}_{\text{goal}} \) & radians & Goal joint configuration \\
\( O_i \) & \DIFdelbegin \DIFdel{\si{\milli\metre} }\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend & Position of the \(i\)-th obstacle (circular) \\
\( r_i \) & \DIFdelbegin \DIFdel{\si{\milli\metre} }\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend & Radius of the \(i\)-th obstacle \\
% \( M \) & - & Number of discrete joint positions in A* search grid \\
\( \theta_i \) & radians & Discretized joint angle for A* search \\
% \( \mathcal{G} \) & - & Occupancy grid (joint space) \\
\( \mathbf{p}_i \) & \DIFdelbegin \DIFdel{\si{\milli\metre} }\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend & Position of the \(i\)-th joint \\

\bottomrule
\end{longtable*}


\subsection{Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  A & Assumption\\
  DD & Data Definition\\
  GD & General Definition\\
  GS & Goal Statement\\
  IM & Instance Model\\
  LC & Likely Change\\
  PS & Physical System Description\\
  R & Requirement\\
  SRS & Software Requirements Specification\\
  TM & Theoretical Model\\
  IK & Inverse Kinematics \\
  FK & Forward Kinematics \\
  A* & A-star Pathfinding Algorithm \\
  DOF & Degrees of Freedom \\
  EE & End-Effector \\
  % \progname{} & 2DPL\\
  \DIFdelbegin \DIFdel{TM }%DIFDELCMD < & %%%
\DIFdel{Theoretical Model}%DIFDELCMD < \\
%DIFDELCMD <   %%%
\DIFdelend 2D-RAPP & 2D Robot Arm Path Planning\\
  \bottomrule
\end{tabular}\\





\section{Introduction}
Path planning for robotic manipulators is a fundamental problem in robotics, enabling robots to move efficiently and safely within constrained environments. Unlike mobile robots that navigate in free space, robotic arms must operate in a higher-dimensional joint space, where each degree of freedom contributes to the overall complexity of motion planning. Traditional inverse kinematics (IK) methods solve for joint angles that satisfy end-effector goals, but they often struggle with obstacle avoidance and computational efficiency in real-time applications.

This document provides an overview of the Software Requirements Specification (SRS) for a 2D robotic arm path planning system based on a graph-based inverse kinematics (IK) approach with A* search. The developed program will be referred to as 2D Robot Arm Path Planning (2D-RAPP) throughout this document. This section explains the purpose of this document, the scope of the requirements, the characteristics of the intended reader, and the organization of the document.

\subsection{Purpose of Document}
The primary purpose of this document is to record the requirements of 2D-RAPP. Goals, assumptions, theoretical models, definitions, and other derivation information are specified, allowing the reader to fully understand and verify the purpose and scientific basis of 2D-RAPP. With the exception of system constraints, this SRS remains abstract, describing what problem is being solved, but not how to solve it.

This document serves as a starting point for subsequent development phases, including writing the design specification and the software verification and validation plan. The design document will show how the requirements are to be realized, including decisions on numerical algorithms, data structures, and programming frameworks. The verification and validation plan will outline the steps required to increase confidence in the software’s correctness, reliability, and performance. 

Although this SRS follows a structured documentation approach, it does not impose any specific software development methodology. Regardless of whether a waterfall, agile, or iterative development process is followed, it remains useful to present the documentation in a way that maintains clarity and logical structure, as recommended by Parnas and Clements.\DIFaddbegin \DIFadd{\mbox{%DIFAUXCMD
\citet{SmithAndLai2005, SmithEtAl2007,
SmithAndKoothoor2016}
}\hskip0pt%DIFAUXCMD
}\DIFaddend 



\subsection{Scope of Requirements} 
The scope of the requirements includes path planning for a 2D robotic arm with N revolute joints, operating in a workspace with circular obstacles. The system is designed to compute collision-free paths in joint space, using distance-based inverse kinematics and search algorithms.


\subsection{Characteristics of Intended Reader} \label{sec_IntendedReader}
Reviewers of this documentation should have a fundamental understanding of robotics kinematics at an undergraduate level, specifically covering forward kinematics, inverse kinematics, and path planning. Familiarity with graph-based search algorithms (such as A*) and numerical optimization techniques is also recommended.



\DIFdelbegin \DIFdel{The users of 2D-RAPP (e.g., robotics researchers, engineers) may have varying levels of expertise, as explained in Section~\ref{SecUserCharacteristics}. However, those involved in reviewing, modifying, or maintaining this SRS should have a strong background in computational kinematics and algorithmic path planning.
}%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdelend \subsection{Organization of Document}

This document follows the standard structure of an SRS for scientific computing software. It begins with the problem statement and goals, followed by theoretical foundations, definitions, and assumptions. The document then presents instance models and specific requirements.

The problem is introduced through kinematic models and path planning techniques, including forward and inverse kinematics and graph-based search methods. Assumptions related to joint constraints and obstacle avoidance are also outlined.

Readers can approach this document either top-down, starting from goals to implementation, or bottom-up, beginning with instance models and tracing back to theoretical foundations. The instance model IM:PathPlanning defines the core algorithm for collision-free motion planning of a 2D robot arm.


\section{General System Description}

This section provides general information about the system.  It identifies the
interfaces between the system and its environment, describes the user
characteristics and lists the system constraints. 


\subsection{System Context}


Fig.~\ref{Fig:SysCon} illustrates the system context. The circle represents the user, an external entity providing inputs to the system. The rectangle represents the software system, 2D-RAPP. Arrows indicate the data flow between the user and the system.

\begin{figure}[h!]
\centering
\includegraphics[width=0.8\textwidth]{SystemContextFigure}
\caption{System Context}
\label{Fig:SysCon}
\end{figure}

The interaction between the user and the system is described as follows:

\subsubsection*{User Responsibilities}
\begin{itemize}
    \item Provide the input data to the system, including:
    \begin{itemize}
        \item \DIFdelbegin \DIFdel{Initial joint angles (\(q_{\text{init}}\))to specify the starting configuration of the robotic arm}\DIFdelend \DIFaddbegin \textbf{\DIFadd{Link lengths}} \DIFadd{(\(L = [l_1, l_2, \dots, l_n]\)): a list of positive real numbers specifying the length of each robotic arm segment}\DIFaddend .
        \item \DIFdelbegin \DIFdel{Goal position (\(x_{\text{goal}}, y_{\text{goal}}\))to indicate the desired end-effector target}\DIFdelend \DIFaddbegin \textbf{\DIFadd{Joint limits}} \DIFadd{(\(J = [(a_1, b_1), (a_2, b_2), \dots, (a_n, b_n)]\)): the allowable angle range for each joint}\DIFaddend .
        \item \DIFdelbegin \DIFdel{Obstacle data, including radii(\(r_i\))and positions (\(O_i = (x_i, y_i)\))}\DIFdelend \DIFaddbegin \textbf{\DIFadd{Obstacle data}}\DIFadd{: a list of obstacles defined by their center positions and radii: \(O_i = (x_i, y_i, r_i)\)}\DIFaddend .
        \DIFaddbegin \item \textbf{\DIFadd{Start configuration}} \DIFadd{(\(q_{\text{start}} \in \mathbb{R}^n\)): the initial joint angles of the robot in radians.
        }\item \textbf{\DIFadd{Goal configuration}} \DIFadd{(\(q_{\text{goal}} \in \mathbb{R}^n\)): the target joint angles to be reached.
    }\DIFaddend \end{itemize}
    \item Ensure the input data is accurate and in the required \DIFdelbegin \DIFdel{units.
}\DIFdelend \DIFaddbegin \DIFadd{unit
    }

\DIFaddend \end{itemize}

\subsubsection*{2D-RAPP Responsibilities}
\begin{itemize}
    \item  Detect input errors, such as invalid data types\DIFdelbegin \DIFdel{or inconsistent units.
    }\DIFdelend \DIFaddbegin \DIFadd{, joint angle configurations outside of specified limits, or inconsistent angle units (e.g., degrees vs radians). Proper error messages are displayed via the GUI to guide user corrections.
    }\DIFaddend \item Verify that the inputs satisfy physical and software constraints.
    \item Compute a collision-free trajectory for the robotic arm, including:
    \begin{itemize}
        \item Joint angles (\(q\), \(\dot{q}\), \(\ddot{q}\)) for each motion stage.
        \item Cartesian path (\(x, y\)) of the end-effector.
    \end{itemize}
    \item Provide a visual representation of the robotic arm's movement and obstacle avoidance.
    \item Detect unreachable goal positions:
    \begin{itemize}
        \item If the target position is not reachable due to kinematic limitations or obstacles, return an empty result.
        \item Notify the user that the goal position cannot be reached.
    \end{itemize}
\end{itemize}

This system context defines the roles and interactions between the user and the 2D-RAPP system, ensuring clarity in the data flow and system responsibilities.


\subsection{User Characteristics} \label{SecUserCharacteristics}
The intended users of \progname{} are individuals with a background in robotics, computer science, and mechanical engineering. They are expected to have \DIFdelbegin \DIFdel{a fundamental understanding of kinematics, particularly }\DIFdelend \DIFaddbegin \DIFadd{at least undergraduate-level understanding of forward and }\DIFaddend inverse kinematics, \DIFdelbegin \DIFdel{and be familiar with }\DIFdelend \DIFaddbegin \DIFadd{as well as exposure to }\DIFaddend basic path planning algorithms \DIFaddbegin \DIFadd{such as A*, RRT, or Dijkstra}\DIFaddend .



\subsection{System Constraints}
\DIFdelbegin \DIFdel{There are no system constraints. }\DIFdelend \DIFaddbegin \DIFadd{The system uses A* search on a toroidal configuration space for path planning. This decision constrains the path planner to discrete grids and admissible heuristics, and may limit real-time scalability for high-dimensional arms. Other planning algorithms such as RRT or PRM could be integrated in future versions.
}\DIFaddend 



\section{Specific System Description}

This section first presents the problem description, which gives a high-level
view of the problem to be solved.  This is followed by the solution characteristics
specification, which presents the assumptions, theories, definitions and finally
the instance models. The system focuses on generating a collision-free trajectory for a 2D robotic arm in an environment with static obstacles. The robotic arm is modeled as a serial manipulator with revolute joints, and its configuration is defined by a set of joint angles.


\subsection{Problem Description} \label{Sec_pd}

\progname{} is intended to solve the path planning for 2D robotic arms.



\subsubsection{Terminology and  Definitions}


This subsection provides a list of terms that are used in the subsequent
sections and their meaning, with the purpose of reducing ambiguity and making it
easier to correctly understand the requirements:

\begin{itemize}

  \item \textbf{Joint space:} The space defined by the possible values of the robot arm’s joint angles.

  \item \textbf{Workspace:} The Cartesian space where the end-effector of the robotic arm can reach.

  \item \textbf{Obstacle:} A static circular object in the workspace that the robotic arm must avoid.

  \item \textbf{Trajectory:} A sequence of joint configurations representing a smooth motion of the robotic arm from the start to the goal.

  \item \textbf{Configuration:} A specific set of joint angles that fully describes the position of the robotic arm.

  \item \textbf{Collision detection:} The process of determining whether the robotic arm intersects with an obstacle.

  \item \textbf{Path planning:} The process of computing a collision-free sequence of configurations to move the robotic arm from the start to the goal.

  \item \textbf{Inverse kinematics:} The process of determining joint angles given a desired end-effector position.

  \item \textbf{Forward kinematics:} The computation of the end-effector position given joint angles.

  \end{itemize}

\subsubsection{Physical System Description} \label{sec_phySystDescrip}


The physical system of \progname{}, as shown in Figure~\ref{Fig:Robotic arm},
includes the following elements:

\begin{itemize}

  \item[PS1:] A robotic arm with N revolute joints, defining a N-link planar mechanism.

  \item[PS2:] The environment contains static circular obstacles that must be avoided by the arm.

  \item[PS3:] A discretized joint space where joint angles are sampled uniformly to form a toroidal search space.

  \item[PS4:] A start configuration that represents the initial joint angles of the robotic arm.

  \item[PS5:] A goal configuration that represents the desired joint angles to reach the target position.

  \item[PS6:] The A* algorithm used to compute the shortest collision-free path in joint space.

  \end{itemize}


\begin{figure}[h!]
\begin{center}
%\rotatebox{-90}
{
 \includegraphics[width=0.5\textwidth]{Physical System Description}
}
\caption{Robotic arm finding a path to target point}
\label{Fig:Robotic arm} 
\end{center}
\end{figure}

\subsubsection{Goal Statements} \label{sec_Goal}    

\noindent Given the initial joint angles, the goal joint angles, and the obstacle locations, the goal statements are:

\begin{itemize}

\item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_CollisionFreePath}:] Compute a collision-free trajectory in joint space from the start configuration to the goal configuration.

\item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_OptimizePath}:] Minimize the \DIFdelbegin \DIFdel{total path length while ensuring obstacle avoidance.
}%DIFDELCMD < 

%DIFDELCMD < \item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_SmoothMotion}:] %%%
\item[\DIFdel{GS}%DIFDELCMD < \refstepcounter{goalnum}\thegoalnum \label{GS_SmoothMotion}%%%
\DIFdel{:}]%DIFAUXCMD
\DIFdel{Generate a smooth and continuous motion trajectory for the robotic arm.
}%DIFDELCMD < 

%DIFDELCMD < \item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_PathSafety}:] %%%
\item[\DIFdel{GS}%DIFDELCMD < \refstepcounter{goalnum}\thegoalnum \label{GS_PathSafety}%%%
\DIFdel{:}]%DIFAUXCMD
\DIFdel{Validate the safety of the planned path by verifying obstacle-free movement at each }\DIFdelend \DIFaddbegin \DIFadd{number of joint-space steps between start and goal configurations, each being a collision-free discrete }\DIFaddend configuration.

%DIF >  \item[GS\refstepcounter{goalnum}\thegoalnum \label{GS_SmoothMotion}:] Generate a smooth and continuous motion trajectory for the robotic arm.
\DIFaddbegin 

%DIF >  \item[\DIFadd{GS}\refstepcounter{\DIFadd{goalnum}}\thegoalnum \label{\DIFadd{GS_PathSafety}}\DIFadd{:}] Validate the safety of the planned path by verifying obstacle-free movement at each configuration.

\DIFaddend \end{itemize}

\subsection{Solution Characteristics Specification}

The instance models that govern \progname{} are presented in the Instance Model Section. The necessary information to understand the meaning of the instance models and their derivation is also included, ensuring that the instance models can be verified. The solution characteristics describe the assumptions, theoretical foundations, and mathematical formulations that define the problem space and provide a basis for trajectory planning and obstacle avoidance in robotic arm motion.


\begin{figure}[H]
  \includegraphics[scale=0.9]{RelationsBetweenTM_GD_IM_DD_A.pdf}
\end{figure}

The instance models that govern \progname{} are presented in
Subsection~\ref{sec_instance}.  The information to understand the meaning of the
instance models and their derivation is also presented, so that the instance
models can be verified.

\subsubsection{Assumptions} \label{sec_assumpt}


This section simplifies the original problem and helps in developing the
theoretical model by filling in the missing information for the physical system.
The numbers given in the square brackets refer to the theoretical model [TM],
general definition [GD], data definition [DD], instance model [IM], or likely
change [LC], in which the respective assumption is used.

\begin{itemize}

  \item[A\refstepcounter{assumpnum}\theassumpnum \label{A_KinematicMotionOnly}:] 
  The motion of the robotic arm is modeled purely kinematically, without considering the effects of dynamics such as forces, torques, or friction. (RefBy: IM:PathPlanning)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_LinkLengthsConstant}:] 
  The lengths of all links in the robotic arm are constant and do not change during motion. (RefBy: GD:ForwardKinematics)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_JointMotionContinuous}:] 
  The joint angles of the robotic arm vary smoothly and continuously without sudden jumps. (RefBy: IM:TrajectoryGeneration)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_NoMechanicalDeflection}:] 
  The robotic arm links are considered rigid, meaning there is no mechanical deflection or deformation. (RefBy: GD:InverseKinematics)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_ObstacleShapeCircular}:] 
  Obstacles in the environment are approximated as circles with predefined radii. (RefBy: IM:CollisionDetection)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_TrajectoryDiscretized}:] 
  The planned trajectory is discretized into a series of intermediate waypoints in joint space. (RefBy: IM:TrajectoryGeneration)

\item[A\refstepcounter{assumpnum}\theassumpnum \label{A_InitialAndGoalConfigurationsKnown}:] 
  The initial joint configuration and the goal joint configuration are known before path planning begins. (RefBy: IM:PathPlanning)

\end{itemize}

\subsubsection{Theoretical Models}\label{sec_theoretical}

This section focuses on the general equations and laws that \progname{} is based
on. The theoretical models serve as fundamental principles governing the kinematic motion and path planning of the robotic arm. 

~\newline
\DIFdelbegin %DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdelend \noindent
\deftheory
% #2 refname of theory
{TM:FWDKinematics}
% #3 label
{Forward Kinematics}
% #4 equation
{
\DIFdelbegin \DIFdel{%
\mbox{%DIFAUXCMD
$\mathbf{x} = f(\mathbf{q}) = \begin{bmatrix}
  L_1 \cos(\theta_1) + L_2 \cos(\theta_1 + \theta_2) \\
  L_1 \sin(\theta_1) + L_2 \sin(\theta_1 + \theta_2)
  \end{bmatrix}$
}%DIFAUXCMD
}\DIFdelend \DIFaddbegin \[
  \DIFadd{\mathbf{x} = f(\mathbf{q}) = 
  \begin{bmatrix}
    \sum_{i=1}^{n} L_i \cos\left(\sum_{j=1}^{i}\theta_j\right) \\[6pt]
    \sum_{i=1}^{n} L_i \sin\left(\sum_{j=1}^{i}\theta_j\right)
  \end{bmatrix}
}\]
\DIFaddend }
% #5 description
{
\DIFaddbegin \DIFadd{This equation describes the forward kinematics function $f$, mapping the joint angles $\mathbf{q}$ to the Cartesian position $\mathbf{x}$ of the robotic arm's end-effector for an $n$-link planar manipulator.
}

\DIFaddend \begin{itemize}
    \item \DIFdelbegin \DIFdel{$\mathbf{q}$: Joint }\DIFdelend \DIFaddbegin \DIFadd{$n$: The number of links in the robotic arm.
    }\item \DIFadd{$\mathbf{q} = [\theta_1, \theta_2, \dots, \theta_n]^T$: The vector of joint }\DIFaddend angles, where \DIFdelbegin \DIFdel{$\theta_1$ is the angle of the first joint and $\theta_2$ is the relative angle of the second joint}\DIFdelend \DIFaddbegin \DIFadd{$\theta_i$ is the relative angle of joint $i$}\DIFaddend .
    \item \DIFdelbegin \DIFdel{$L_1$: Length of the first link (\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{$\mathbf{x} = [x, y]^T$: Cartesian position of the end-effector (in \si{\metre}), computed relative to the arm's base at the origin.
    }\item \DIFadd{$f$: Forward kinematics mapping function, converting joint angles ($\mathbf{q}$) into the end-effector position ($\mathbf{x}$}\DIFaddend ).
    \item \DIFdelbegin \DIFdel{$L_2$}\DIFdelend \DIFaddbegin \DIFadd{$L_i$}\DIFaddend : Length of \DIFdelbegin \DIFdel{the second link (\si{\milli\metre})}\DIFdelend \DIFaddbegin \DIFadd{link $i$ (\si{\metre}), connecting joint $i$ to joint $(i+1)$}\DIFaddend .
\end{itemize}
\DIFaddbegin 

\DIFadd{This general formulation supports robotic arms with an arbitrary number of joints, enabling flexibility for various planar manipulator configurations.
}\DIFaddend }
% #6 Notes
{
This forward kinematics model assumes:
\begin{itemize}
    \item Rigid links: \DIFdelbegin \DIFdel{The links are assumed to be }\DIFdelend \DIFaddbegin \DIFadd{All links are }\DIFaddend perfectly rigid and do not deform under load (\aref{A_LinkLengthsConstant}).
    \item Fixed base: The \DIFdelbegin \DIFdel{base of the arm is considered stationary, located }\DIFdelend \DIFaddbegin \DIFadd{robotic arm base is stationary, positioned }\DIFaddend at the origin $(0, 0)$.
    \item \DIFdelbegin \DIFdel{Ideal joints: The joints rotate without friction or other physical limitations.
}%DIFDELCMD < \item %%%
\item%DIFAUXCMD
\DIFdelend Planar motion: \DIFdelbegin \DIFdel{The arm operates }\DIFdelend \DIFaddbegin \DIFadd{All arm movements are restricted to a 2D plane without out-of-plane motion.
}\end{itemize}

}
%DIF >  #7 Source
{
\DIFadd{Adapted from }\url{https://atsushisakai.github.io/PythonRobotics/modules/7_arm_navigation/planar_two_link_ik.html}
}
%DIF >  #8 Referenced by
{
\DIFadd{\dref{GD_AStar_DiscreteJointSpace}
}}
%DIF >  #9 Preconditions
{
\DIFadd{None
}}
%DIF >  #1 derivation - not applicable by default
{}

%DIF >  second model
\noindent
\deftheory
%DIF >  #2 refname of theory
{\DIFadd{TM:SegmentCircleCollision}}
%DIF >  #3 label
{\DIFadd{Collision Detection Between Line Segment and Circular Obstacle}}
%DIF >  #4 equation
{
\DIFadd{Let the endpoints of a link segment be $\mathbf{a}=[x_1, y_1]$ and $\mathbf{b}=[x_2, y_2]$, and the circular obstacle have center $\mathbf{c}=[c_x, c_y]$ with radius $r$. Define the closest point $\mathbf{p}$ on the segment to the circle center as:
}

\[
\DIFadd{t = \frac{(\mathbf{c}-\mathbf{a})\cdot(\mathbf{b}-\mathbf{a})}{\|\mathbf{b}-\mathbf{a}\|^2}, \quad
t' = \text{clip}(t, 0, 1), \quad
\mathbf{p} = \mathbf{a}+ t'(\mathbf{b}-\mathbf{a})
}\]

\DIFadd{Then collision occurs if:
}\[
\DIFadd{\|\mathbf{p}-\mathbf{c}\|\le r
}\]
}
%DIF >  #5 description
{
\DIFadd{This theoretical model determines whether a robotic arm link, modeled as a line segment, intersects (collides) with a circular obstacle. It uses geometric projection to find the shortest distance from the circle center to the segment, checking if it is less than or equal to the obstacle's radius.
}

\begin{itemize}
    \item \DIFadd{$\mathbf{a}, \mathbf{b}$: Endpoints of the line segment representing the robotic arm link (in Cartesian coordinates, \si{\metre}).
    }\item \DIFadd{$\mathbf{c}$: Center of the circular obstacle (Cartesian coordinates, \si{\metre}).
    }\item \DIFadd{$r$: Radius of the circular obstacle (\si{\metre}).
    }\item \DIFadd{$t'$: Clipped scalar projection factor ensuring the closest point remains within the segment bounds.
    }\item \DIFadd{$\mathbf{p}$: Closest point on the segment to the circle center.
    }\item \DIFadd{$t'$: Clipped scalar projection factor ensuring the closest point remains within the segment bounds. Specifically, $t'$ is constrained to $[0, 1]$ such that
    }\[
    \DIFadd{t' = 
    \begin{cases}
        0 & \text{if } t < 0 \\
        t & \text{if } 0 \leq t \leq 1 \\
        1 & \text{if } t > 1
    \end{cases}
    }\]
\end{itemize}

\DIFadd{This method is computationally efficient and accurate for planar collision detection between line segments and circular obstacles.
}}
%DIF >  #6 Notes
{
\DIFadd{This model assumes:
}

\begin{itemize}
    \item \DIFadd{The arm links are perfectly rigid and represented as straight line segments (\aref{A_LinkLengthsConstant}).
    }\item \DIFadd{Obstacles are modeled as perfect circles.
    }\item \DIFadd{The robotic arm operates exclusively }\DIFaddend in a 2D plane \DIFdelbegin \DIFdel{, and there is no out-of-plane movement}\DIFdelend \DIFaddbegin \DIFadd{without deformation}\DIFaddend .
\end{itemize}
\DIFdelbegin %DIFDELCMD < 

%DIFDELCMD <   %%%
\DIFdel{These assumptions ensure simplicity and accuracy for theoretical modeling. For real-world applications, additional factors such asjoint compliance, link flexibility, and external forces may need to be considered.
    }\DIFdelend }
% #7 Source
{
\DIFdelbegin %DIFDELCMD < \url{https://atsushisakai.github.io/PythonRobotics/modules/7_arm_navigation/planar_two_link_ik.html}
%DIFDELCMD < %%%
\DIFdelend \DIFaddbegin \DIFadd{Adapted from collision detection concepts in computational geometry: }\\
\url{https://www.geometrictools.com/Documentation/DistancePointLine.pdf}
\DIFaddend }
% #8 Referenced by
{
\DIFdelbegin \DIFdel{\dref{ROCT}
}\DIFdelend \DIFaddbegin \DIFadd{\dref{GD_AStar_DiscreteJointSpace}
}\DIFaddend }
% #9 Preconditions
{
None
}
% #1 derivation - not applicable by default
{}



%DIF > % third model
\DIFaddbegin \noindent
\deftheory
%DIF >  #2 refname of theory
{\DIFadd{TM:AStarJointSpace}}
%DIF >  #3 label
{\DIFadd{A* Search Algorithm in Discretized Toroidal Joint Space}}
%DIF >  #4 equation
{
\DIFadd{The A* search algorithm finds the optimal path between start node $\mathbf{s}$ and goal node $\mathbf{g}$ in an $n$-dimensional discrete joint space of resolution $M$ per dimension. The evaluation function is defined as:
}

\[
\DIFadd{f(\mathbf{n}) = g(\mathbf{n}) + h(\mathbf{n})
}\]

\DIFadd{where:
}

\[
\DIFadd{g(\mathbf{n})=\text{cost from start to node } \mathbf{n}, \quad h(\mathbf{n})=\sum_{i=1}^{n} \min\left(|n_i-g_i|, M-|n_i-g_i|\right)
}\]

}
%DIF >  #5 description
{
\DIFadd{This theoretical model describes the A* search algorithm adapted to a toroidal (wrap-around) discretized joint configuration space for robotic arm path planning. The heuristic $h(n)$ used is the toroidal Manhattan distance, providing an admissible heuristic suitable for discrete, periodic search spaces.
}

\begin{itemize}
    \item \DIFadd{$\mathbf{n}=[n_1, n_2, \dots, n_n]$: Current node indices in the discretized joint-space grid.
    }\item \DIFadd{$\mathbf{s}$: Start configuration node indices.
    }\item \DIFadd{$\mathbf{g}$: Goal configuration node indices.
    }\item \DIFadd{$M$: Number of discrete intervals per joint dimension.
    }\item \DIFadd{$g(\mathbf{n})$: Actual cost from the start to the node $\mathbf{n}$ (each step has uniform cost = 1).
    }\item \DIFadd{$h(\mathbf{n})$: Heuristic estimated cost from node $\mathbf{n}$ to goal $\mathbf{g}$.
    }\item \DIFadd{$f(\mathbf{n})$: Total estimated cost function guiding the search.
}\end{itemize}

\DIFadd{The algorithm iteratively explores neighboring nodes until the optimal path from $\mathbf{s}$ to $\mathbf{g}$ is found or all possibilities are exhausted.
}}
%DIF >  #6 Notes
{
\DIFadd{This theoretical model assumes:
}

\begin{itemize}
    \item \DIFadd{The joint configuration space is discretized into uniform intervals.
    }\item \DIFadd{The space has a toroidal structure, allowing joints to wrap around from $-\pi$ to $\pi$.
    }\item \DIFadd{Each step between neighboring configurations has an equal cost of 1.
    }\item \DIFadd{The heuristic is admissible (never overestimates cost), ensuring optimality of the solution.
}\end{itemize}
}
%DIF >  #7 Source
{
\DIFadd{Adapted from standard A* algorithm definitions:}\\
\url{https://en.wikipedia.org/wiki/A*_search_algorithm}
}
%DIF >  #8 Referenced by
{
  \DIFadd{\dref{GD_AStar_DiscreteJointSpace}
}}
%DIF >  #9 Preconditions
{
\DIFadd{The start and goal nodes must be within the defined grid dimensions.
}}
%DIF >  #1 derivation - not applicable by default
{}



\DIFaddend ~\newline

\subsubsection{General Definitions}\label{sec_gendef}

This section collects the laws and equations that will be used in building the instance models.

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number & GD\refstepcounter{defnum}\thedefnum \DIFdelbegin %DIFDELCMD < \label{GD_FWD_Kinematics}%%%
\DIFdelend \DIFaddbegin \label{GD_AStar_DiscreteJointSpace} \DIFaddend \\
\hline
Label & \bf \DIFdelbegin \DIFdel{Forward Kinematics of a 2D Robotic Arm }\DIFdelend \DIFaddbegin \DIFadd{A* Heuristic in Discretized Toroidal Joint Space }\DIFaddend \\
\hline
SI Units & \DIFdelbegin \DIFdel{\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{Unitless (grid indices) }\DIFaddend \\
\hline
Equation &
\[
\DIFdelbegin %DIFDELCMD < \begin{aligned}
%DIFDELCMD <     x &= L_1 \cos(\theta_1) + L_2 \cos(\theta_1 + \theta_2) \\
%DIFDELCMD <     y &= L_1 \sin(\theta_1) + L_2 \sin(\theta_1 + \theta_2)
%DIFDELCMD < \end{aligned}
%DIFDELCMD < %%%
\DIFdelend \DIFaddbegin \DIFadd{h(\mathbf{n}) = \sum_{i=1}^{n} \min}\left( \DIFadd{|n_i - g_i|, M - |n_i - g_i| }\right)
\DIFaddend \]
\\
\hline
Description & 
\DIFdelbegin \DIFdel{The forward kinematics equations describe the position of the end-effector in Cartesian coordinates given the joint angles and link lengths.
}\DIFdelend \DIFaddbegin \DIFadd{This equation defines the toroidal Manhattan distance used as the heuristic function $h(\mathbf{n})$ in the A* algorithm for robotic arm joint-space planning.
}

\DIFaddend \\
& \DIFdelbegin \DIFdel{$x, y$ are the Cartesian coordinates of the end-effector (\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{$n$ is the number of joints (dimensions of the search space}\DIFaddend ). \\
& \DIFdelbegin \DIFdel{$L_1, L_2$ are the lengths of the arm’s links (\si{\milli\metre})}\DIFdelend \DIFaddbegin \DIFadd{$\mathbf{n} = [n_1, n_2, \dots, n_n]$ is the current node index in the discretized joint space}\DIFaddend . \\
& \DIFdelbegin \DIFdel{$\theta_1, \theta_2$ are the joint angles (radians}\DIFdelend \DIFaddbegin \DIFadd{$\mathbf{g} = [g_1, g_2, \dots, g_n]$ is the goal node index. }\\
& \DIFadd{$M$ is the number of discrete bins per joint (grid resolution}\DIFaddend ). \\
& \DIFaddbegin \DIFadd{The $\min$ term handles wrap-around behavior in toroidal space. For example, the distance from bin $0$ to bin $M-1$ is 1, not $M-1$. }\\

& \DIFaddend Assumptions:
\begin{itemize}
    \item The \DIFdelbegin \DIFdel{links are rigid and have fixed lengths (\aref{A_LinkLengthsConstant})}\DIFdelend \DIFaddbegin \DIFadd{joint space is discretized uniformly into $M$ bins per joint}\DIFaddend .
    \item The \DIFdelbegin \DIFdel{joints rotate freely within the plane}\DIFdelend \DIFaddbegin \DIFadd{joint angle space is toroidal (wraps around at $-\pi$ and $\pi$)}\DIFaddend .
    \item The \DIFdelbegin \DIFdel{base of the robotic arm is fixed}\DIFdelend \DIFaddbegin \DIFadd{heuristic must be admissible and consistent for A* to be optimal}\DIFaddend .
\end{itemize}
\\
\hline
Source & \DIFdelbegin \DIFdel{--}\DIFdelend \DIFaddbegin \DIFadd{Adapted from: }\url{https://en.wikipedia.org/wiki/A*_search_algorithm} \DIFaddend \\
\hline
%DIF <  Ref.\ By & \dref{GD_Inverse_Kinematics}, \dref{IM_PathPlanning}\\
\DIFaddbegin \DIFadd{Ref.\ By }& \DIFadd{\dref{TM:AStarJointSpace} }\\
\DIFaddend \hline
\end{tabular}
\end{minipage}\\

\subsubsection*{Detailed derivation of \DIFdelbegin \DIFdel{forward kinematics equations}%DIFDELCMD < \MBLOCKRIGHTBRACE
%DIFDELCMD < %%%
\DIFdel{The forward kinematics of a 2D robotic arm is derived by considering the arm as a series of rigid links connected by rotational joints. The position of the end-effector is computed as follows}\DIFdelend \DIFaddbegin \DIFadd{A* heuristic in toroidal joint space}}

\DIFadd{The A* algorithm requires a heuristic function $h(\mathbf{n})$ to estimate the cost from a current node $\mathbf{n}$ to the goal node $\mathbf{g}$. In a discretized $n$-dimensional joint space with $M$ bins per dimension (corresponding to uniformly sampled angles), we aim to define a heuristic that}\DIFaddend :

\DIFaddbegin \begin{itemize}
    \item \DIFadd{Is admissible (never overestimates true cost),
    }\item \DIFadd{Is consistent (ensures optimal pathfinding),
    }\item \DIFadd{Accounts for toroidal topology (wrap-around effect).
}\end{itemize}

\DIFaddend \begin{enumerate}
    \item \DIFdelbegin \DIFdel{The first joint rotates by an angle $\theta_1$, positioning the second joint at:
    }\[
    \DIFdel{x_1 = L_1 \cos(\theta_1), \quad y_1 = L_1 \sin(\theta_1).
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\DIFdelend \DIFaddbegin \DIFadd{In each joint dimension $i$, the shortest distance from current index $n_i$ to goal index $g_i$ must consider both clockwise and counter-clockwise directions due to wrapping. 
    }\DIFaddend \item The \DIFdelbegin \DIFdel{second joint rotates by an angle $\theta_2$, contributing to the final position:
    }\DIFdelend \DIFaddbegin \DIFadd{forward (absolute) distance is $|n_i - g_i|$.
    }\item \DIFadd{The wrap-around distance is $M - |n_i - g_i|$.
    }\item \DIFadd{The effective shortest distance in that dimension is:
    }\DIFaddend \[
    \DIFdelbegin \DIFdel{x }\DIFdelend \DIFaddbegin \DIFadd{d_i }\DIFaddend = \DIFdelbegin \DIFdel{x_1 + L_2 \cos}\DIFdelend \DIFaddbegin \DIFadd{\min}\DIFaddend (\DIFdelbegin \DIFdel{\theta_1 + \theta_2)}\DIFdelend \DIFaddbegin \DIFadd{|n_i - g_i|}\DIFaddend , \DIFdelbegin \DIFdel{\quad y = y_1 + L_2 \sin(\theta_1 + \theta_2}\DIFdelend \DIFaddbegin \DIFadd{M - |n_i - g_i|}\DIFaddend )
    \DIFdelbegin \DIFdel{.
    }\DIFdelend \]
    \item \DIFdelbegin \DIFdel{Substituting $x_1$ and $y_1$ results in the final equations:
    }\DIFdelend \DIFaddbegin \DIFadd{Summing over all $n$ joint dimensions gives the total heuristic:
    }\DIFaddend \[
    \DIFdelbegin \DIFdel{x = L_1 \cos}\DIFdelend \DIFaddbegin \DIFadd{h}\DIFaddend (\DIFdelbegin \DIFdel{\theta_1}\DIFdelend \DIFaddbegin \DIFadd{\mathbf{n}}\DIFaddend ) \DIFdelbegin \DIFdel{+ L_2 \cos}\DIFdelend \DIFaddbegin \DIFadd{= \sum_{i=1}^{n} d_i = \sum_{i=1}^{n} \min}\DIFaddend (\DIFdelbegin \DIFdel{\theta_1 + \theta_2)}\DIFdelend \DIFaddbegin \DIFadd{|n_i - g_i|}\DIFaddend , \DIFaddbegin \DIFadd{M - |n_i - g_i|)
    }\DIFaddend \]
\DIFdelbegin \[
    \DIFdel{y = L_1 \sin(\theta_1) + L_2 \sin(\theta_1 + \theta_2).
    }\]%DIFAUXCMD
\DIFdelend \end{enumerate}

\DIFdelbegin \DIFdel{These equations provide a direct mapping from joint spaceto Cartesian space, which is essential for path planning and trajectory control in robotic applications}\DIFdelend \DIFaddbegin \DIFadd{This formulation respects the periodicity of angular joint space, making it ideal for pathfinding on robotic arms with revolute joints. It guarantees optimality and efficiency in A* search when used as the heuristic function}\DIFaddend .




\subsubsection{Data Definitions}\label{sec_datadef}

This section defines and collects the essential data needed to build the instance models. The variables defined here will be used throughout the document.

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
\hline
\rowcolor[gray]{0.9}
Number & DD\refstepcounter{datadefnum}\thedatadefnum \DIFdelbegin %DIFDELCMD < \label{DD_FWD_Kinematics}%%%
\DIFdelend \DIFaddbegin \label{DD_EndEffectorPosition}\DIFaddend \\
\hline
Label & \DIFdelbegin %DIFDELCMD < \bf %%%
\DIFdel{Forward Kinematics Data Definition}\DIFdelend \DIFaddbegin \textbf{\DIFadd{End-Effector Position Definition}} \DIFaddend \\
\hline
Symbol & $\mathbf{x} = (x, y)$ \\
\hline
SI Units & \DIFdelbegin \DIFdel{\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{\si{\metre} }\DIFaddend \\
\hline
Equation &
\[
\DIFdelbegin %DIFDELCMD < \begin{aligned}
%DIFDELCMD <     x &= L_1 \cos(\theta_1) + L_2 \cos(\theta_1 + \theta_2) \\
%DIFDELCMD <     y &= L_1 \sin(\theta_1) + L_2 \sin(\theta_1 + \theta_2)
%DIFDELCMD < \end{aligned}
%DIFDELCMD < %%%
\DIFdelend \DIFaddbegin \DIFadd{x = \sum_{i=1}^{n} L_i \cos}\left(\DIFadd{\sum_{j=1}^{i} \theta_j }\right)\DIFadd{, \quad
y = \sum_{i=1}^{n} L_i \sin}\left(\DIFadd{\sum_{j=1}^{i} \theta_j }\right)
\DIFaddend \]
\\
\hline
Description &
\DIFdelbegin \DIFdel{Forward kinematics describes how the end-effector position in }\DIFdelend \DIFaddbegin \DIFadd{This definition gives the }\DIFaddend Cartesian coordinates $(x, y)$ \DIFdelbegin \DIFdel{is computed as a function of the joint angles $\theta_1, \theta_2$ }\DIFdelend \DIFaddbegin \DIFadd{of the end-effector, computed from the joint angles $\theta_i$ }\DIFaddend and link lengths \DIFdelbegin \DIFdel{$L_1, L_2$}\DIFdelend \DIFaddbegin \DIFadd{$L_i$ of a planar $n$-link robotic manipulator}\DIFaddend .

\begin{itemize}
    \item \DIFdelbegin \DIFdel{$x, y$: Cartesian coordinates of the end-effector (\si{\milli\metre})
    .
    }\DIFdelend \DIFaddbegin \DIFadd{$\theta_i$: Joint angle (radians)
    }\DIFaddend \item \DIFdelbegin \DIFdel{$L_1, L_2$: Lengths of the robotic arm's links (\si{\milli\metre})
    .
    }\DIFdelend \DIFaddbegin \DIFadd{$L_i$: Length of link $i$ (mm)
    }\DIFaddend \item \DIFdelbegin \DIFdel{$\theta_1, \theta_2$: Joint angles (radians).
}\DIFdelend \DIFaddbegin \DIFadd{$\mathbf{x} = (x, y)$: Cartesian coordinates of the end-effector
}\DIFaddend \end{itemize}

This \DIFdelbegin \DIFdel{assumes:
}%DIFDELCMD < \begin{itemize}
\begin{itemize}%DIFAUXCMD
%DIFDELCMD <     \item %%%
\item%DIFAUXCMD
\DIFdel{The robotic arm operates in a 2D plane.
}%DIFDELCMD < \item %%%
\item%DIFAUXCMD
\DIFdel{The links are rigid with fixed lengths (\aref{A_LinkLengthsConstant}).
    }%DIFDELCMD < \item %%%
\item%DIFAUXCMD
\DIFdel{The base of the robotic arm is fixed at $(0,0)$.
}
\end{itemize}%DIFAUXCMD
%DIFDELCMD < \end{itemize}
%DIFDELCMD < %%%
\DIFdelend \DIFaddbegin \DIFadd{data definition specifies how to calculate $\mathbf{x}$ and provides a consistent notation for use in instance models such as path planning and obstacle avoidance.
}\DIFaddend \\
\hline
Source & Robotics textbook or \DIFdelbegin \DIFdel{relevant reference}\DIFdelend \DIFaddbegin \DIFadd{GD:ForwardKinematics }\DIFaddend \\
\hline
Ref. \DIFdelbegin \DIFdel{\ }\DIFdelend By & \DIFdelbegin \DIFdel{\dref{GD_Inverse_Kinematics}, \dref{IM_PathPlanning}}\DIFdelend \DIFaddbegin \DIFadd{\dref{IM:TrajectoryGeneration}, \dref{IM:ObstacleAvoidance} }\DIFaddend \\
\hline
\end{tabular}
\end{minipage}\\




\subsubsection{Data Types}\label{sec_datatypes}

This section defines the data types used in the robotic arm path planning (2D-RAPP) system. These types are used to specify inputs, intermediate values, and outputs in the models.

~\newline

\noindent
\begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
  \hline
  \rowcolor[gray]{0.9}
  \DIFdelbegin \DIFdel{Type Name }\DIFdelend \DIFaddbegin \textbf{\DIFadd{Type Name}} \DIFaddend & \DIFdelbegin \DIFdel{Description}\DIFdelend \DIFaddbegin \textbf{\DIFadd{Formal Definition and Description}} \DIFaddend \\
  \hline
  \texttt{Angle} & \DIFaddbegin \DIFadd{$\theta \in [-\pi, \pi] \subset \mathbb{R}$ — }\DIFaddend Represents joint angles of the robotic arm in radians. \\
  \hline
  \texttt{Length} & \DIFaddbegin \DIFadd{$L \in \mathbb{R}_{\ge 0}$ — }\DIFaddend Represents physical lengths (e.g., arm links, obstacle radii) in \DIFdelbegin \DIFdel{millsmeters}\DIFdelend \DIFaddbegin \DIFadd{millimetres}\DIFaddend . \\
  \hline
  \texttt{Position} & \DIFaddbegin \DIFadd{$\mathbf{x} = (x, y) \in \mathbb{R}^2$ — }\DIFaddend A 2D Cartesian coordinate \DIFdelbegin \DIFdel{represented as $(x, y)$ in millsmeters}\DIFdelend \DIFaddbegin \DIFadd{in millimetres}\DIFaddend . \\
  \hline
  \texttt{Velocity} & \DIFdelbegin \DIFdel{Represents joint }\DIFdelend \DIFaddbegin \DIFadd{$\dot{\theta} \in \mathbb{R}$ — Joint }\DIFaddend angular velocity in radians per second. \\
  \hline
  \texttt{Acceleration} & \DIFdelbegin \DIFdel{Represents joint }\DIFdelend \DIFaddbegin \DIFadd{$\ddot{\theta} \in \mathbb{R}$ — Joint }\DIFaddend angular acceleration in radians per second squared. \\
  \hline
  \DIFdelbegin \texttt{\DIFdel{Trajectory}} %DIFAUXCMD
%DIFDELCMD < & %%%
\DIFdel{A sequence of joint angles describing the motion plan. }%DIFDELCMD < \\
%DIFDELCMD <   \hline
%DIFDELCMD <   %%%
\DIFdelend \texttt{Obstacle} & \DIFdelbegin \DIFdel{A structure containing an obstacle's center position $(x, y)$ and radius}\DIFdelend \DIFaddbegin \DIFadd{$O = (x, y, r)$ with $(x, y) \in \mathbb{R}^2$, $r \in \mathbb{R}_{>0}$ — Represents a circular obstacle}\DIFaddend . \\
  \hline
  \texttt{Boolean} & \DIFdelbegin \DIFdel{A binary value (true/false) }\DIFdelend \DIFaddbegin \DIFadd{$b \in \{\texttt{true}, \texttt{false}\}$ — A binary flag }\DIFaddend indicating feasibility of a path \DIFaddbegin \DIFadd{or result}\DIFaddend . \\
  \hline
\end{tabular}
\end{minipage}\\



\subsubsection{Instance Models} \label{sec_instance}

This section transforms the problem defined in Section~\ref{Sec_pd} into one expressed in mathematical terms. It uses concrete symbols defined in Section~\ref{sec_datadef} to replace the abstract symbols in the models identified in Sections~\ref{sec_theoretical} and~\ref{sec_gendef}.

The goal statements \ref{sec_Goal} are addressed by the following instance models:

~\newline


\noindent
\DIFdelbegin %DIFDELCMD < \deftheory
%DIFDELCMD < %%%
%DIF <  #2 refname of theory
%DIFDELCMD < {%%%
\DIFdel{IM:TrajectoryGeneration}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #3 label
%DIFDELCMD < {%%%
\DIFdel{Trajectory Generation}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #4 equation
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{$\mathbf{q}(t) = \text{PathPlanner}(\mathbf{q}_{\text{init}}, \mathbf{q}_{\text{goal}}, O, r)$
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #5 description
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{The trajectory generation model computes a smooth, }\DIFdelend \DIFaddbegin \begin{minipage}{\textwidth}
\renewcommand*{\arraystretch}{1.5}
\begin{tabular}{| p{\colAwidth} | p{\colBwidth}|}
  \hline
  \rowcolor[gray]{0.9}
  \DIFadd{Number }& \DIFadd{IM}\refstepcounter{instnum}\theinstnum \label{IM:ArmPathPlanning}\\
  \hline
  \DIFadd{Label }& \bf \DIFadd{2D Robotic Arm Path Planning }\\
  \hline
  \DIFadd{Input 
  }&
  \begin{itemize}
    \item \DIFadd{$\mathbf{q}_{\text{init}}, \mathbf{q}_{\text{goal}}$: Initial and goal joint configurations.
    }\item \DIFadd{$O_i = (x_i, y_i, r_i)$: Circular obstacles in Cartesian space.
    }\item \DIFadd{Joint limits (\aref{A_JointMotionContinuous}) and other constraints.
  }\end{itemize}
  \\
  \hline
  \DIFadd{Output 
  }&
  \DIFadd{A }\DIFaddend collision-free \DIFdelbegin \DIFdel{sequence of joint angles }\DIFdelend \DIFaddbegin \DIFadd{path (or empty if infeasible), represented as 
  }\[
     \DIFadd{\mathbf{Q}_{\text{path}} = }[\DIFadd{\mathbf{q}_1, \mathbf{q}_2, \dots, \mathbf{q}_N}]
  \DIFadd{}\]
  \DIFadd{each $\mathbf{q}_k$ a valid joint configuration. Optionally, a continuous trajectory }\DIFaddend $\mathbf{q}(t)$ \DIFdelbegin \DIFdel{(radians) to move the robotic arm from the initial configuration }\DIFdelend \DIFaddbegin \DIFadd{can be generated through interpolation.
  }\\
  \hline
  \DIFadd{Description
  }&
  \DIFadd{This instance model unifies path planning and collision avoidance for a 2D robotic arm with $n$ revolute joints.
}

  \textbf{\DIFadd{Key steps:}}
  \begin{enumerate}
     \item \textbf{\DIFadd{Discrete Search (A*):}} \DIFadd{Use the toroidal joint-space A* model (\tref{TM:AStarJointSpace}) to find a minimal-step path of valid configurations from }\DIFaddend $\mathbf{q}_{\text{init}}$ to \DIFdelbegin \DIFdel{the goal 
  configuration }\DIFdelend $\mathbf{q}_{\text{goal}}$.
     \DIFdelbegin \DIFdel{The function $\text{PathPlanner}$ considers obstacle locations 
  $O_i$ and radii $r_i$ to avoid collisions.
     }\DIFdelend \DIFaddbegin \item \textbf{\DIFadd{Collision Detection:}} \DIFadd{Each candidate $\mathbf{q}$ is validated via segment-circle checks (\tref{TM:SegmentCircleCollision}), using forward kinematics (\tref{TM:FWDKinematics}) to map joint angles to link endpoints.
     }\item \textbf{\DIFadd{Trajectory Generation (Optional):}} \DIFadd{If a discrete path is found, a continuous trajectory $\mathbf{q}(t)$ can be formed (e.g., spline interpolation) for smooth execution.
  }\end{enumerate}
\DIFaddend 

  The \DIFdelbegin \DIFdel{planned trajectory satisfies the following conditions}\DIFdelend \DIFaddbegin \DIFadd{path or trajectory must satisfy}\DIFaddend :
  \begin{itemize}
    \item \DIFdelbegin \DIFdel{The path is kinematically feasible, considering joint limits and maximum velocities}\DIFdelend \DIFaddbegin \DIFadd{No collisions with obstacles (\aref{A_ObstacleShapeCircular})}\DIFaddend .
    \item \DIFdelbegin \DIFdel{No path segment intersects any obstacle}\DIFdelend \DIFaddbegin \DIFadd{Joint limits do not exceed physical constraints (\aref{A_JointMotionContinuous})}\DIFaddend .
    \item If no valid path\DIFdelbegin \DIFdel{exists, the system returns an empty trajectory and an infeasibility warning}\DIFdelend \DIFaddbegin \DIFadd{, return an infeasibility result}\DIFaddend .
  \end{itemize}
\DIFdelbegin %DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #6 Notes
%DIFDELCMD < {
%DIFDELCMD < %%%
\DIFdel{This model assumes a 2D planar manipulator with revolute joints and no external disturbances (\aref{A_NoExternalDisturbances}) .
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #7 Source
%DIFDELCMD < {
%DIFDELCMD <   \url{https://www.robotics.org/path_planning}
%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #8 Referenced by
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{\rref{R_Calculate}, \rref{R_Output}
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #9 Preconditions
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{The start and goal configurations must be valid joint states within the robot’s joint limits.
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #1 derivation - not applicable by default
%DIFDELCMD < {}
%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdel{~}%DIFDELCMD < \newline
%DIFDELCMD < 

%DIFDELCMD < \noindent
%DIFDELCMD < \deftheory
%DIFDELCMD < %%%
%DIF <  #2 refname of theory
%DIFDELCMD < {%%%
\DIFdel{IM:ObstacleAvoidance}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #3 label
%DIFDELCMD < {%%%
\DIFdel{Obstacle Avoidance}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #4 equation
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{$ \min\limits_{i} \left\| \mathbf{x}(t) - O_i \right\| \geq r_i + \epsilon, \quad \forall t $
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #5 description
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{This model ensures that the robotic arm does not collide with obstacles during motion. The distance 
  between the end-effector position $\mathbf{x}(t)$ and each obstacle center $O_i$ must always be 
  greater than the obstacle radius $r_i$ plus a safety margin $\epsilon$.
}%DIFDELCMD < 

%DIFDELCMD <   %%%
\DIFdel{This condition is checked at every time step of the planned trajectory.
  If violated, a new trajectory 
  is generated, or an infeasibility warning is returned.}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #6 Notes
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{This model assumes that obstacle positions remain static during execution (\aref{A_StaticObstacles}).
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #7 Source
%DIFDELCMD < {
%DIFDELCMD <   \url{https://www.robotics.org/collision_avoidance}
%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #8 Referenced by
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdelend \DIFaddbegin 

  \DIFadd{This addresses the goal statements of computing a collision-free path 
  (\gsref{GS_CollisionFreePath}) and minimizing the path length (via the A* step count) 
  (\gsref{GS_OptimizePath}).
  }\\
  \hline
  \DIFadd{Sources
  }&
  \DIFadd{\tref{TM:AStarJointSpace}, \tref{TM:SegmentCircleCollision}, \tref{TM:FWDKinematics}
  }\\
  \hline
  \DIFadd{Ref.\ By 
  }&
  \DIFaddend \rref{R_Calculate}, \rref{R_VerifyOutput}
  \DIFdelbegin %DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #9 Preconditions
%DIFDELCMD < {
%DIFDELCMD <   %%%
\DIFdel{The obstacle positions and radii must be known before trajectory planning.
}%DIFDELCMD < }
%DIFDELCMD < %%%
%DIF <  #1 derivation - not applicable by default
%DIFDELCMD < {}
%DIFDELCMD < %%%
\DIFdelend \DIFaddbegin \\
  \hline
\end{tabular}
\end{minipage}\\
\DIFaddend 

~\newline

%DIF < ~\newline
\DIFaddbegin \subsubsection*{\DIFadd{Derivation of 2D Robotic Arm Path Planning}}
\DIFaddend 

\DIFdelbegin \subsubsection*{\DIFdel{Derivation of Trajectory Generation (IM:TrajectoryGeneration)}}
%DIFAUXCMD
%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdel{The trajectory generation }\DIFdelend \DIFaddbegin \DIFadd{This instance }\DIFaddend model is derived \DIFdelbegin \DIFdel{from forward kinematics and inverse kinematics principles. 
}\DIFdelend \DIFaddbegin \DIFadd{by combining the following theoretical models and assumptions:
}\DIFaddend 

\DIFdelbegin %DIFDELCMD < \begin{enumerate}
%DIFDELCMD <     %%%
\DIFdelend \DIFaddbegin \begin{itemize}
    \DIFaddend \item \textbf{Forward Kinematics\DIFdelbegin \DIFdel{:}\DIFdelend } \DIFdelbegin \DIFdel{The position of the end-effector $\mathbf{x}(t)$ is determined using: }\[
    \DIFdel{x = L_1 \cos(\theta_1) + L_2 \cos(\theta_1 + \theta_2)
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\[
    \DIFdel{y = L_1 \sin(\theta_1) + L_2 \sin(\theta_1 + \theta_2)
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\DIFdel{This establishes the mapping from joint space $\mathbf{q}(t)$ to Cartesian space.
}%DIFDELCMD < 

%DIFDELCMD <     %%%
\DIFdelend \DIFaddbegin \DIFadd{(\tref{TM:FWDKinematics}): Maps any joint configuration $\mathbf{q}$ to the Cartesian positions of the arm’s links, enabling collision checks.
    }\DIFaddend \item \DIFdelbegin \textbf{\DIFdel{Inverse Kinematics:}} %DIFAUXCMD
\DIFdel{Given a desired goal position $\mathbf{x}_{\text{goal}} = (x_g, y_g)$, we solve for the required joint angles:
    }\[
    \DIFdel{\theta_2 = \cos^{-1} \left(\frac{x_g^2 + y_g^2 - L_1^2 - L_2^2}{2 L_1 L_2} \right)
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\[
    \DIFdel{\theta_1 = \tan^{-1} \left(\frac{y_g}{x_g} \right) - \tan^{-1} \left(\frac{L_2 \sin \theta_2}{L_1 + L_2 \cos \theta_2} \right)
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\DIFdel{This establishes the mapping from Cartesian space to joint space.
    }%DIFDELCMD < 

%DIFDELCMD <     \item %%%
\item%DIFAUXCMD
\DIFdelend \textbf{\DIFdelbegin \DIFdel{Path Planning:}%DIFDELCMD < \MBLOCKRIGHTBRACE %%%
\DIFdel{A trajectory $\mathbf{q}(t)$ is generated using an interpolation method such as:
    }%DIFDELCMD < \begin{itemize}
%DIFDELCMD <         \item %%%
\item%DIFAUXCMD
\DIFdel{Linear interpolation (for simple movements)}\DIFdelend \DIFaddbegin \DIFadd{Collision Detection}} \DIFadd{(\tref{TM:SegmentCircleCollision}): Determines whether any link segment intersects a circular obstacle $O_i$}\DIFaddend .
    \item \DIFdelbegin \DIFdel{Polynomial interpolation (e.g., cubic splines)for smooth acceleration profiles.
        }%DIFDELCMD < \item %%%
\item%DIFAUXCMD
\DIFdel{Graph-based search algorithms (e.g., A* on a discretized joint space)}\DIFdelend \DIFaddbegin \textbf{\DIFadd{Toroidal A* Search}} \DIFadd{(\tref{TM:AStarJointSpace}): Provides a pathfinding strategy in a discretized joint-space grid with wrap-around angles, applying an admissible heuristic to ensure an optimal solution with minimal steps}\DIFaddend .
\end{itemize}

\DIFdelbegin %DIFDELCMD < \item %%%
\textbf{\DIFdel{Collision Avoidance:}} %DIFAUXCMD
\DIFdel{Each planned trajectory segment is verified against obstacles using:
    }\[
    \DIFdel{\min\limits_{i} \left\| \mathbf{x}(t) - O_i \right\| \geq r_i + \epsilon, \quad \forall t
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\DIFdel{If this constraint is violated, a new path is computed, or an infeasibility warning is returned. }%DIFDELCMD < \end{enumerate}
%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdel{The derivation combines these principles to ensure a feasible, }\DIFdelend \DIFaddbegin \DIFadd{At each step, the A* algorithm proposes a neighboring joint configuration, which is validated for collisions using the segment-circle model. If feasible, the configuration is explored in the search process. The final sequence of configurations from $\mathbf{q}_{\text{init}}$ to $\mathbf{q}_{\text{goal}}$ constitutes the minimal-step, }\DIFaddend collision-free \DIFdelbegin \DIFdel{trajectory for the robotic arm.
}\DIFdelend \DIFaddbegin \DIFadd{path. Optional trajectory generation interpolates these discrete points into a continuous function $\mathbf{q}(t)$, respecting joint limits (\aref{A_JointMotionContinuous}) and ensuring a smooth motion plan.
}\DIFaddend 


\DIFdelbegin \subsubsection*{\DIFdel{Derivation of Obstacle Avoidance (IM:ObstacleAvoidance)}}
%DIFAUXCMD
\DIFdelend \DIFaddbegin \DIFadd{~}\newline
\DIFaddend 



\DIFdelbegin \DIFdel{Obstacle avoidance is derived from the Euclidean distance constraint:
}%DIFDELCMD < 

%DIFDELCMD < \begin{enumerate}
\begin{enumerate}%DIFAUXCMD
%DIFDELCMD <     \item %%%
\item%DIFAUXCMD
\textbf{\DIFdel{Obstacle Representation:}} %DIFAUXCMD
\DIFdel{Obstacles are modeled as circles with centers $O_i = (O_{i_x}, O_{i_y})$ and radii $r_i$. }%DIFDELCMD < 

%DIFDELCMD <     \item %%%
\item%DIFAUXCMD
\textbf{\DIFdel{Collision Condition:}} %DIFAUXCMD
\DIFdel{A collision occurs if:
    }\[
    \DIFdel{\left\| \mathbf{x}(t) - O_i \right\| < r_i
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\DIFdel{where $\mathbf{x}(t)$ is the end-effector position.
}%DIFDELCMD < 

%DIFDELCMD <     \item %%%
\item%DIFAUXCMD
\textbf{\DIFdel{Safe Clearance Constraint:}} %DIFAUXCMD
\DIFdel{To avoid collisions, the trajectory must satisfy:
    }\[
    \DIFdel{\left\| \mathbf{x}(t) - O_i \right\| \geq r_i + \epsilon, \quad \forall t
    }\]%DIFAUXCMD
%DIFDELCMD <     %%%
\DIFdel{where $\epsilon$ is a safety margin. }%DIFDELCMD < 

%DIFDELCMD <     \item %%%
\item%DIFAUXCMD
\textbf{\DIFdel{Validation:}} %DIFAUXCMD
\DIFdel{Each trajectory segment is checked at discrete time steps. If a collision is detected, the path planner reattempts a new trajectory.
}
\end{enumerate}%DIFAUXCMD
%DIFDELCMD < \end{enumerate}
%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdel{This derivation ensures that the robotic arm follows a valid path while maintaining a safe distance from obstacles.
}%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdelend \subsubsection{Input Data Constraints} \label{sec_DataConstraints}    

Table~\ref{TblInputVar} shows the data constraints on the input variables. The column for physical constraints gives the physical limitations on the range of values that can be taken by the variable. The column for software constraints restricts the range of inputs to reasonable values. These software constraints will be helpful in the design stage for selecting suitable algorithms. The constraints are conservative to give users flexibility in experimenting with unusual situations. The column of typical values provides a reference for common scenarios. The uncertainty column estimates the confidence with which the physical quantities can be measured. This information is useful for uncertainty quantification exercises.

The specification parameters in Table~\ref{TblInputVar} are listed in Table~\ref{TblSpecParams}.

\begin{table}[!h]
  \caption{Input Variables for 2D-RAPP} \label{TblInputVar}
  \renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l l l c} 
  \toprule
  \textbf{Var} & \textbf{Physical Constraints} & \textbf{Software Constraints} &
                             \textbf{Typical Value} & \textbf{Uncertainty}\\
  \midrule 
  $L_1, L_2$ & $L_i > 0$ & $L_{\text{min}} \leq L_i \leq L_{\text{max}}$ & 1.0 \si[per-mode=symbol] {\metre} & 5\%
  \\
  $\theta_1, \theta_2$ & $-\pi \leq \theta_i \leq \pi$ & $-\pi \leq \theta_i \leq \pi$ & 0 \si[per-mode=symbol]{\radian} & 1\%
  \\
  $x_{\text{goal}}, y_{\text{goal}}$ & Defined workspace bounds & Within reachable workspace & (1.5, 1.5) \si[per-mode=symbol]{\metre} & 10\%
  \\
  $r_{\text{obs}}$ & $r_{\text{obs}} > 0$ & $r_{\text{obs}} \leq r_{\text{max}}$ & 0.3 \si[per-mode=symbol]{\metre} & 5\%
  \\
  $(x_{\text{obs}}, y_{\text{obs}})$ & Within workspace bounds & Within workspace bounds & (0.5, 0.5) \si[per-mode=symbol]{\metre} & 10\%
  \\
  \bottomrule
\end{longtable*}
\end{table}

\noindent 
\begin{description}
\item[(*)] $\theta_1, \theta_2$ are the joint angles of the robotic arm.
\item[(*)] $L_1, L_2$ are the lengths of the arm segments.
\item[(*)] $x_{\text{goal}}, y_{\text{goal}}$ define the Cartesian coordinates of the target.
\item[(*)] $(x_{\text{obs}}, y_{\text{obs}})$ and $r_{\text{obs}}$ define the position and size of obstacles.
\end{description}

\begin{table}[!h]
\caption{Specification Parameter Values for 2D-RAPP} \label{TblSpecParams}
\renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l} 
  \toprule
  \textbf{Var} & \textbf{Value} \\
  \midrule 
  $L_\text{min}$ & 0.1 \si{\metre}\\
  $L_\text{max}$ & 2.0 \si{\metre}\\
  $r_{\text{max}}$ & 0.5 \si{\metre}\\
  \bottomrule
\end{longtable*}
\end{table}


\subsubsection{Properties of a Correct Solution} \label{sec_CorrectSolution}

\DIFdelbegin %DIFDELCMD < \noindent
%DIFDELCMD < %%%
\DIFdel{A correct solution must exhibit the following properties to ensure robustness and feasibility in robotic arm path planning:
}%DIFDELCMD < 

%DIFDELCMD < \begin{itemize}
%DIFDELCMD <     \item %%%
\DIFdel{The generated }\DIFdelend \DIFaddbegin \DIFadd{As previously discussed, a correct }\DIFaddend trajectory must be \DIFdelbegin \textbf{\DIFdel{collision-free}}%DIFAUXCMD
\DIFdel{, ensuring that the robotic arm does not intersect any obstacles.
    }%DIFDELCMD < \item %%%
\DIFdel{The computed joint angles (\(\theta_1, \theta_2\)) must respect the physical limits of the robotic arm.
    }%DIFDELCMD < \item %%%
\DIFdel{The path must be }\textbf{\DIFdel{kinematically feasible}}%DIFAUXCMD
\DIFdel{, meaning it can be executed smoothly by the robotic system.
    }%DIFDELCMD < \item %%%
\DIFdel{If the target position is unreachable due to obstacles or arm constraints, the system must return an empty trajectory and notify the user.
}%DIFDELCMD < \end{itemize}
%DIFDELCMD < 

%DIFDELCMD < \noindent
%DIFDELCMD < %%%
\DIFdel{Additionally, output values must adhere to known physical constraints, summarized in Table~\ref{TblOutputVar}.
}%DIFDELCMD < 

%DIFDELCMD < \begin{table}[!h]
%DIFDELCMD < %%%
%DIFDELCMD < \caption{%
{%DIFAUXCMD
\DIFdelFL{Output Variables and Physical Constraints}} %DIFAUXCMD
%DIFDELCMD < \label{TblOutputVar}
%DIFDELCMD < \renewcommand{\arraystretch}{1.2}
%DIFDELCMD < \noindent \begin{longtable*}{l l} 
%DIFDELCMD <   \toprule
%DIFDELCMD <   %%%
\textbf{\DIFdelFL{Var}} %DIFAUXCMD
%DIFDELCMD < & %%%
\textbf{\DIFdelFL{Physical Constraints}} %DIFAUXCMD
%DIFDELCMD < \\
%DIFDELCMD <   \midrule 
%DIFDELCMD <   %%%
\DIFdelFL{$\theta_1, \theta_2$ }%DIFDELCMD < & %%%
\DIFdelFL{$-\pi \leq \theta_1, \theta_2 \leq \pi$ (Joint limits) }%DIFDELCMD < \\
%DIFDELCMD <   %%%
\DIFdelFL{$(x, y)$ }%DIFDELCMD < & %%%
\DIFdelFL{Within reachable workspace of arm }%DIFDELCMD < \\
%DIFDELCMD <   %%%
\DIFdelFL{$\mathbf{q}_{\text{path}}$ }%DIFDELCMD < & %%%
\DIFdelFL{Must be collision-free with obstacles }%DIFDELCMD < \\
%DIFDELCMD <   %%%
\DIFdelFL{$\mathbf{x}_{\text{goal}}$ }%DIFDELCMD < & %%%
\DIFdelFL{If unreachable, return empty trajectory }%DIFDELCMD < \\
%DIFDELCMD <   \bottomrule
%DIFDELCMD < \end{longtable*}
%DIFDELCMD < \end{table}
%DIFDELCMD < 

%DIFDELCMD < \noindent
%DIFDELCMD < %%%
\DIFdel{These constraintsensure that the computed motion plan is valid, achievable, and safe for execution by the robotic arm}\DIFdelend \DIFaddbegin \DIFadd{collision-free, kinematically feasible, and respect joint and workspace constraints}\DIFaddend .



\section{Requirements}

This section provides the functional requirements, the business tasks that the
software is expected to complete, and the nonfunctional requirements, the
qualities that the software is expected to exhibit.

\subsection{Functional Requirements}

\noindent \begin{itemize}

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_Inputs}:]  
    The system shall accept the following inputs from the user\DIFdelbegin \DIFdel{:
    }\DIFdelend \DIFaddbegin \DIFadd{, collectively defined as the input set \( \mathcal{I} \):
    }\[
      \DIFadd{\mathcal{I} = \left\{ \mathbf{q}_{\text{init}}, \mathbf{x}_{\text{goal}}, \mathcal{O}, \mathbf{L} \right\}
    }\]
    \DIFadd{where:
    }\DIFaddend \begin{itemize}
      \item \DIFdelbegin \DIFdel{Initial joint angles \( q_{\text{init}} = (\theta_1, \theta_2) \) in radians}\DIFdelend \DIFaddbegin \DIFadd{\( \mathbf{q}_{\text{init}} = (\theta_1, \dots, \theta_N) \): initial joint angles (radians)}\DIFaddend .
      \item \DIFdelbegin \DIFdel{Goal position \( (x_{\text{goal}}, y_{\text{goal}}) \) }\DIFdelend \DIFaddbegin \DIFadd{\( \mathbf{x}_{\text{goal}} = (x, y) \): goal position }\DIFaddend in Cartesian coordinates (\DIFdelbegin \DIFdel{\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{\si{\metre}}\DIFaddend ).
      \item \DIFdelbegin \DIFdel{Obstacle positions \( O_i = (x_i, y_i) \) and radii \( r_i \) (\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{\( \mathcal{O} = \{ (x_i, y_i, r_i) \mid i = 1,\dots,M \} \): obstacle positions and radii (\si{\metre}}\DIFaddend ).
      \item \DIFdelbegin \DIFdel{Link lengths \( L_1, L_2 \) }\DIFdelend \DIFaddbegin \DIFadd{\( \mathbf{L} = (L_1, \dots, L_N) \): link lengths }\DIFaddend of the robotic arm (\DIFdelbegin \DIFdel{\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{\si{\metre}}\DIFaddend ).
    \end{itemize}
    \DIFaddbegin \textbf{\DIFadd{Trace to:}} \DIFadd{\iref{IM:ArmPathPlanning}
}\DIFaddend 

  \item[R\refstepcounter{reqnum}\thereqnum \label{R_OutputInputs}:]  
    The system shall echo all \DIFdelbegin \DIFdel{input values to ensure }\DIFdelend \DIFaddbegin \DIFadd{elements in \( \mathcal{I} \) to confirm }\DIFaddend correctness before computation.  


  \item[R\refstepcounter{reqnum}\thereqnum \label{R_Calculate}:]  
    The system shall perform the following calculations:
    \begin{itemize}
      \item \DIFdelbegin \DIFdel{Compute the forward kinematics to determine the }\DIFdelend \DIFaddbegin \DIFadd{Use forward kinematics (\tref{TM:FWDKinematics}) to compute }\DIFaddend end-effector \DIFdelbegin \DIFdel{position}\DIFdelend \DIFaddbegin \DIFadd{positions from \( \mathbf{q} \)}\DIFaddend .
      \item \DIFdelbegin \DIFdel{Determine the }\DIFdelend \DIFaddbegin \DIFadd{Use A* search (\tref{TM:AStarJointSpace}) to generate a }\DIFaddend collision-free path \DIFdelbegin \DIFdel{from \( q_{\text{init}} \) to the goal using A* search}\DIFdelend \DIFaddbegin \DIFadd{in joint space from \( \mathbf{q}_{\text{init}} \) to the joint configuration corresponding to \( \mathbf{x}_{\text{goal}} \)}\DIFaddend .
      \item \DIFdelbegin \DIFdel{Generate the sequence of }\DIFdelend \DIFaddbegin \DIFadd{Construct a time-indexed path \( \mathbf{q}(t) \) through }\DIFaddend intermediate joint configurations \DIFdelbegin \DIFdel{\( q(t) \) for smooth motion}\DIFdelend \DIFaddbegin \DIFadd{for smooth execution}\DIFaddend .
    \end{itemize}


  \item[R\refstepcounter{reqnum}\thereqnum \label{R_VerifyOutput}:]  
    The system shall verify that:
    \begin{itemize}
      \item The \DIFdelbegin \DIFdel{computed path avoids all obstacles}\DIFdelend \DIFaddbegin \DIFadd{path \( \mathbf{q}(t) \) is collision-free with respect to \( \mathcal{O} \) (\tref{TM:SegmentCircleCollision})}\DIFaddend .
      \item The final \DIFdelbegin \DIFdel{joint configuration corresponds to the given goal position }\DIFdelend \DIFaddbegin \DIFadd{configuration \( \mathbf{q}_{\text{final}} \) maps via forward kinematics to the goal position \( \mathbf{x}_{\text{goal}} \) (\tref{TM:FWDKinematics})}\DIFaddend .
      \item The \DIFdelbegin \DIFdel{output }\DIFdelend trajectory is continuous\DIFdelbegin \DIFdel{and feasiblefor the robotic arm}\DIFdelend \DIFaddbegin \DIFadd{, feasible, and respects all joint and link constraints}\DIFaddend .
    \end{itemize}


  \item[R\refstepcounter{reqnum}\thereqnum \label{R_Output}:]  
    The system shall output the following:
    \begin{itemize}
      \item \DIFdelbegin \DIFdel{The computed path }\DIFdelend \DIFaddbegin \DIFadd{A discrete sequence \( \mathbf{q}(t_0), \mathbf{q}(t_1), \dots, \mathbf{q}(t_k) \) }\DIFaddend in joint space\DIFdelbegin \DIFdel{, represented as a sequence of joint angles \( q(t) \)}\DIFdelend .
      \item \DIFdelbegin \DIFdel{The Cartesian positions }\DIFdelend \DIFaddbegin \DIFadd{Corresponding Cartesian path \( \mathbf{x}(t) \) }\DIFaddend of the end-effector\DIFdelbegin \DIFdel{throughout the motion}\DIFdelend .
      \item A visualization \DIFdelbegin \DIFdel{of the planned motion with the robotic arm }\DIFdelend \DIFaddbegin \DIFadd{including the arm trajectory }\DIFaddend and obstacles.
    \end{itemize}


\end{itemize}



  
  \subsection{Nonfunctional Requirements}

  This section defines the nonfunctional requirements that specify the qualities and characteristics the software should exhibit.

  \noindent \begin{itemize}

  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Accuracy}:]  
  \textbf{Accuracy} \\
The system shall compute the robotic arm trajectory with an accuracy sufficient for motion planning in a \DIFdelbegin \DIFdel{dynamic }\DIFdelend \DIFaddbegin \DIFadd{2D }\DIFaddend environment. The precision of the joint angles shall be within \(0.01\) radians, and the calculated Cartesian positions of the end-effector shall have an error margin within \(0.1\) cm. 
\DIFdelbegin \DIFdel{The accuracy shall be validated through simulation and empirical testing. }\DIFdelend 

\DIFaddbegin \DIFadd{Accuracy is verified through both analytical comparison and visual confirmation:
}

\begin{itemize}
  \item \textbf{\DIFadd{Analytical oracle:}} \DIFadd{For each configuration along the planned trajectory \(\mathbf{q}(t)\), the system computes the expected end-effector position \(\mathbf{x}_{\text{expected}}(t)\) using the forward kinematics model (\tref{TM:FWDKinematics}). The output is deemed accurate if:
  }\[
  \DIFadd{\|\mathbf{x}_{\text{actual}}(t) - \mathbf{x}_{\text{expected}}(t)\| < 0.001~\text{m}
  }\]
  \item \textbf{\DIFadd{Visual oracle:}} \DIFadd{The GUI module displays the animated arm trajectory alongside obstacles. Users can visually inspect whether the motion respects the environment constraints and achieves the goal position with expected smoothness and precision.
}\end{itemize}

\DIFadd{See }\href{https://github.com/FangZiyang/CAS741-Ryan/blob/main/docs/VnVPlan/VnVPlan.pdf}{\DIFadd{V\&V plan}} \DIFadd{for test design and validation procedures.
}

  
  \DIFaddend \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Maintainability}:]  
    \textbf{Maintainability} \\
    The effort required to make likely modifications to the software (such as adjusting the planning algorithm or adding new constraints) shall be at most \(10\%\) of the original development time, assuming the same development resources are available. Code modularization and documentation will facilitate future modifications.

  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Verifiability}:]  
    \textbf{Verifiability} \\
    The correctness of the system shall be tested with a complete verification and validation (V\&V) plan. \DIFaddbegin \href{https://github.com/FangZiyang/CAS741-Ryan/blob/main/docs/VnVPlan/VnVPlan.pdf}{\DIFadd{V\&V plan}} \DIFaddend The outputs shall be compared against theoretical models and experimental data.

  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Understandability}:]  
    \textbf{Understandability} \\
    The software \DIFdelbegin \DIFdel{shall follow a modular architecture with clear documentation, including a module guide and interface specification. Each function and class shall have inline comments explaining its purpose}\DIFdelend \DIFaddbegin \DIFadd{architecture shall be modular }\DIFaddend and \DIFdelbegin \DIFdel{usage.
  a
  }\DIFdelend \DIFaddbegin \DIFadd{self-descriptive. Each module shall include a clearly written interface specification and a corresponding documentation file. Every public function shall include docstrings that specify input/output types and purpose. Inline comments shall be added to explain non-obvious implementation logic. Understandability will be evaluated through peer review and code inspection checklists.
  }\DIFaddend 

  \item[NFR\refstepcounter{nfrnum}\thenfrnum \label{NFR_Reusability}:]  
    \textbf{Reusability} \\
    The system shall \DIFdelbegin \DIFdel{be designed with reusability in mind, allowing for easy adaptation to different robotic configurations. The kinematic and planning modules shall be abstracted so they can be reused in other robotic }\DIFdelend \DIFaddbegin \DIFadd{support reuse of key planning components (e.g., collision checking, A* search, forward kinematics) across different robotic manipulators. All configuration-dependent parameters (e.g., number of joints, link lengths) shall be externally specified in JSON or parameter files. Module interfaces shall not be hardcoded to any specific robot model, enabling reuse in future planar path-planning }\DIFaddend applications.

  \end{itemize}


  \subsection{Rationale}

  This section provides justifications for the decisions made in the documentation, including scope choices, modeling approaches, assumptions, and typical values.

  \noindent \begin{itemize}

  \item \textbf{Scope Decisions:}  
  The scope is limited to 2D kinematic motion planning for a two-link robotic arm. This choice simplifies computations by avoiding the complexities of dynamic control and multi-degree-of-freedom motion. The system focuses on trajectory planning and collision avoidance, which are critical for robotic applications in structured environments.

  \item \textbf{Modeling Decisions:}  
  The system models the robotic arm using forward kinematics and inverse kinematics equations. The choice of the A* algorithm for trajectory planning ensures optimal pathfinding in discrete joint space. A toroidal occupancy grid is used to handle the periodic nature of joint angles while maintaining computational efficiency.

  \item \textbf{Assumptions:}  
  Several assumptions were made to reduce computational complexity and improve efficiency:
    \begin{itemize}
      \item The robotic arm consists of two rigid links with fixed lengths (\aref{A_LinkLengthsConstant}).
      \item The motion occurs strictly in a 2D plane, ignoring dynamic effects such as inertia and external forces.
      \item The joint angles are constrained within \([- \pi, \pi]\) to ensure practical movement constraints.
    \end{itemize}

  \item \textbf{Typical Values:}  
  The choice of typical values for input parameters is based on real-world robotic systems:
    \begin{itemize}
      \item Link lengths (\DIFdelbegin \DIFdel{\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{\si{\metre}}\DIFaddend ): $L_1 = 50$, $L_2 = 40$ 
      \item Joint angle range (\si{\radian}): $[-\pi, \pi]$
      \item Obstacle radii (\DIFdelbegin \DIFdel{\si{\milli\metre}}\DIFdelend \DIFaddbegin \DIFadd{\si{\metre}}\DIFaddend ): $r_i \in [5, 15]$ 
    \end{itemize}
    These values ensure a balance between computational efficiency and practical usability.

  \end{itemize}



  \section{Likely Changes}    

  \noindent \begin{itemize}

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_GridResolution}:]  
  The resolution of the discrete grid used for A* search may need to be adjusted for better accuracy or computational efficiency. A finer grid provides more precise motion planning but increases computation time. (\aref{A_TrajectoryDiscretized})

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_ObstacleShapes}:]  
  Currently, obstacles are modeled as circles for simplicity. Future iterations may need to support arbitrary polygonal obstacles to better reflect real-world scenarios. (\aref{A_ObstacleShapeCircular})

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_PathPlanningAlgorithm}:]  
  The path-planning algorithm may need to be changed. Alternatives such as RRT (Rapidly-exploring Random Tree) or D* Lite might be required for more complex environments or real-time applications. 

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_Kinematics}:]  
  If the system is extended to 3D, the forward kinematics equations will need to be updated to account for additional degrees of freedom. 

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_JointLimits}:]  
  The current joint angle limits assume a symmetric range of motion. Some robotic arms have mechanical constraints that may require asymmetric limits, which would need to be accounted for in the calculations.

  \end{itemize}

  \section{Unlikely Changes}    

  \noindent \begin{itemize}

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_FixedLinkLengths}:]  
  The link lengths of the robotic arm are assumed to be fixed. Future versions are not expected to support variable-length arms or telescopic links. (\aref{A_LinkLengthsConstant})

  
  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_NoDynamics}:]  
  The system is based purely on kinematics and does not consider dynamics (forces, torques, or inertia). It is unlikely that dynamics will be incorporated in this version. (\aref{A_KinematicMotionOnly})

  \item[LC\refstepcounter{lcnum}\thelcnum\label{LC_FixedCollisionDetection}:]  
  The collision detection method assumes static obstacles. It is unlikely that dynamic obstacles (moving objects) will be introduced in this implementation. (\aref{A_ObstacleShapeCircular})

  \end{itemize}


\section{Traceability Matrices and Graphs}

The purpose of the traceability matrices is to provide easy references on what
has to be additionally modified if a certain component is changed.  Every time a
component is changed, the items in the column of that component that are marked
with an ``X'' may have to be modified as well.  Table~\ref{Table:trace} shows the
dependencies of theoretical models, general definitions, data definitions, and
instance models with each other. Table~\ref{Table:R_trace} shows the
dependencies of instance models, requirements, and data constraints on each
other. Table~\ref{Table:A_trace} shows the dependencies of theoretical models,
general definitions, data definitions, instance models, and likely changes on
the assumptions.



\DIFdelbegin %DIFDELCMD < \afterpage{
%DIFDELCMD < \begin{landscape}
%DIFDELCMD <   \begin{table}[h!]
%DIFDELCMD <     \centering
%DIFDELCMD < \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
%DIFDELCMD < \hline
%DIFDELCMD < 	& \aref{A_OnlyThermalEnergy}& \aref{A_hcoeff}& \aref{A_mixed}& \aref{A_tpcm}& \aref{A_const_density}& \aref{A_const_C}& \aref{A_Newt_coil}& \aref{A_tcoil}& \aref{A_tlcoil}& \aref{A_Newt_pcm}& \aref{A_charge}& \aref{A_InitTemp}& \aref{A_OpRangePCM}& \aref{A_OpRange}& \aref{A_htank}& \aref{A_int_heat}& \aref{A_vpcm}& \aref{A_PCM_state}& \aref{A_Pressure} \\
%DIFDELCMD < \hline
%DIFDELCMD <     \iref{IM_CollisionAvoidance} &  &  &  & X & X & X \\
%DIFDELCMD <     \hline
%DIFDELCMD <     \end{tabular}
%DIFDELCMD <     \end{table}
%DIFDELCMD <     

%DIFDELCMD < \end{landscape}
%DIFDELCMD < }
%DIFDELCMD < 

%DIFDELCMD < %%%
\DIFdelend \begin{table}[h!]
  \centering
  \DIFdelbeginFL %DIFDELCMD < \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
%DIFDELCMD < %%%
\DIFdelendFL \DIFaddbeginFL \begin{tabular}{|c|c|c|c|c|c|c|}
  \DIFaddendFL \hline        
  & \DIFdelbeginFL \DIFdelFL{\tref{T_COE}}\DIFdelendFL \DIFaddbeginFL \hyperref[TM:FWDKinematics]{TM1}
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\tref{T_SHE}}\DIFdelendFL \DIFaddbeginFL \hyperref[TM:SegmentCircleCollision]{TM2}
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\tref{T_LHE}}\DIFdelendFL \DIFaddbeginFL \hyperref[TM:AStarJointSpace]{TM3}
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\dref{NL}}\DIFdelendFL \DIFaddbeginFL \hyperref[GD_AStar_DiscreteJointSpace]{GD1}
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\dref{ROCT} }\DIFdelendFL \DIFaddbeginFL \hyperref[DD_EndEffectorPosition]{DD1}
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\ddref{FluxCoil}}%DIFDELCMD < & %%%
\DIFdelFL{\ddref{FluxPCM} }%DIFDELCMD < & %%%
\DIFdelFL{\ddref{D_HOF}}%DIFDELCMD < & %%%
\DIFdelFL{\ddref{D_MF}}%DIFDELCMD < & %%%
\DIFdelFL{\iref{ewat}}%DIFDELCMD < & %%%
\DIFdelFL{\iref{epcm}}%DIFDELCMD < & %%%
\DIFdelFL{\iref{I_HWAT}}%DIFDELCMD < & %%%
\DIFdelFL{\iref{I_HPCM} }\DIFdelendFL \DIFaddbeginFL \hyperref[IM:ArmPathPlanning]{IM1} \DIFaddendFL \\
  \hline
  \DIFdelbeginFL \DIFdelFL{\tref{T_COE}     }\DIFdelendFL \DIFaddbeginFL \hyperref[TM:SegmentCircleCollision]{TM2} \DIFaddendFL & & & & & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\tref{T_SHE}     }\DIFdelendFL \DIFaddbeginFL \hyperref[TM:FWDKinematics]{TM1}         \DIFaddendFL & & & X & & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\tref{T_LHE}     }\DIFdelendFL \DIFaddbeginFL \hyperref[TM:SegmentCircleCollision]{TM2} \DIFaddendFL & & & & & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\dref{NL}        }\DIFdelendFL \DIFaddbeginFL \hyperref[TM:AStarJointSpace]{TM3}       \DIFaddendFL & & & & & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\dref{ROCT}      }\DIFdelendFL \DIFaddbeginFL \hyperref[GD_AStar_DiscreteJointSpace]{GD1} \DIFaddendFL & X & & & & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\ddref{FluxCoil} }\DIFdelendFL \DIFaddbeginFL \hyperref[DD_EndEffectorPosition]{DD1}   \DIFaddendFL & & & & X & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\ddref{FluxPCM}  }\DIFdelendFL \DIFaddbeginFL \hyperref[IM:ArmPathPlanning]{IM1}       \DIFaddendFL & & & & X & & \DIFdelbeginFL %DIFDELCMD < & & & & & & & %%%
\DIFdelendFL \\ \hline
  \DIFdelbeginFL \DIFdelFL{\ddref{D_HOF}    }%DIFDELCMD < & & & & & & & & & & & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\ddref{D_MF}     }%DIFDELCMD < & & & & & & & & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\iref{ewat}      }%DIFDELCMD < & & & & & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & %%%
\DIFdelFL{X}%DIFDELCMD < & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\iref{epcm}      }%DIFDELCMD < & & & & & %%%
\DIFdelFL{X}%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & & & %%%
\DIFdelFL{X }%DIFDELCMD < \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\iref{I_HWAT}    }%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & & & & & & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\iref{I_HPCM}    }%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & & \\
%DIFDELCMD < \hline
%DIFDELCMD < %%%
\DIFdelendFL \end{tabular}
  \caption{Traceability Matrix Showing the Connections Between Items of Different Sections}
  \label{Table:trace}
\end{table}



\begin{table}[h!]
  \centering
  \begin{tabular}{|c|c|c|c|c|c|c|c|}
  \hline
  & \DIFdelbeginFL \DIFdelFL{\iref{ewat}}\DIFdelendFL \DIFaddbeginFL \hyperref[IM:ArmPathPlanning]{IM1} 
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\iref{epcm}}\DIFdelendFL \DIFaddbeginFL \hyperref[sec_DataConstraints]{DC} 
  \DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\iref{I_HWAT}}\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\rref{R_Inputs} 
  }\DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\iref{I_HPCM}}\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\rref{R_OutputInputs} 
  }\DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\ref{sec_DataConstraints}}\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\rref{R_Calculate} 
  }\DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\rref{R_RawInputs}}\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\rref{R_VerifyOutput} 
  }\DIFaddendFL & \DIFdelbeginFL \DIFdelFL{\rref{R_MassInputs} }\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\rref{R_Output} }\DIFaddendFL \\
  \hline
  \DIFdelbeginFL \DIFdelFL{\iref{ewat}            }\DIFdelendFL \DIFaddbeginFL 

  \hyperref[IM:ArmPathPlanning]{IM1} \DIFaddendFL & 
       & X &   &   &   & X & X \\ 
  \hline
\DIFdelbeginFL \DIFdelFL{\iref{epcm}            }\DIFdelendFL \DIFaddbeginFL 

  \DIFaddFL{\rref{R_Inputs} }\DIFaddendFL & 
       \DIFdelbeginFL \DIFdelFL{X}\DIFdelendFL &   &   &   \DIFdelbeginFL \DIFdelFL{X}\DIFdelendFL &   &   \DIFdelbeginFL \DIFdelFL{X}\DIFdelendFL &   \DIFdelbeginFL \DIFdelFL{X }\DIFdelendFL \\ 
  \hline
\DIFdelbeginFL \DIFdelFL{\iref{I_HWAT}          }\DIFdelendFL \DIFaddbeginFL 

  \DIFaddFL{\rref{R_OutputInputs} }\DIFaddendFL & 
       &   &   &   &   & X &   \DIFdelbeginFL \DIFdelFL{X }\DIFdelendFL \\ 
  \hline
\DIFdelbeginFL \DIFdelFL{\iref{I_HPCM}          }\DIFdelendFL \DIFaddbeginFL 

  \DIFaddFL{\rref{R_Calculate} }\DIFaddendFL & 
       &   \DIFdelbeginFL \DIFdelFL{X}\DIFdelendFL &   &   & \DIFdelbeginFL %DIFDELCMD < & %%%
\DIFdelendFL X &   \DIFdelbeginFL \DIFdelFL{X }%DIFDELCMD < \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_RawInputs}     }\DIFdelendFL &   \DIFdelbeginFL %DIFDELCMD < & & & & & & %%%
\DIFdelendFL \\ 
  \hline
\DIFdelbeginFL \DIFdelFL{\rref{R_MassInputs}    }\DIFdelendFL \DIFaddbeginFL 

  \DIFaddFL{\rref{R_VerifyOutput} }\DIFaddendFL & 
       \DIFdelbeginFL %DIFDELCMD < & & & & & %%%
\DIFdelendFL X &   \DIFdelbeginFL %DIFDELCMD < \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_CheckInputs}   }\DIFdelendFL &   &   &   &   &   \DIFdelbeginFL \DIFdelFL{X}%DIFDELCMD < & & %%%
\DIFdelendFL \\ 
  \hline
\DIFdelbeginFL \DIFdelFL{\rref{R_OutputInputs}  }\DIFdelendFL \DIFaddbeginFL 

  \DIFaddFL{\rref{R_Output} }\DIFaddendFL & 
       X & X &   &   &   & X & X \\ 
  \hline
  \DIFdelbeginFL \DIFdelFL{\rref{R_TempWater}     }%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & & & \\ \hline 
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_TempPCM}       }%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_EnergyWater}   }%DIFDELCMD < & & & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_EnergyPCM}     }%DIFDELCMD < & & & & %%%
\DIFdelFL{X}%DIFDELCMD < & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_VerifyOutput}  }%DIFDELCMD < & & & %%%
\DIFdelFL{X}%DIFDELCMD < & %%%
\DIFdelFL{X}%DIFDELCMD < & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_timeMeltBegin} }%DIFDELCMD < & & %%%
\DIFdelFL{X}%DIFDELCMD < & & & & & \\ \hline
%DIFDELCMD < %%%
\DIFdelFL{\rref{R_timeMeltEnd}   }%DIFDELCMD < & & %%%
\DIFdelFL{X }%DIFDELCMD < & & & & & \\ 
%DIFDELCMD < \hline
%DIFDELCMD < %%%
\DIFdelendFL \end{tabular}
  \caption{Traceability Matrix Showing the Connections Between Requirements and Instance Models}
  \label{Table:R_trace}
\end{table}

  

The purpose of the traceability graphs is also to provide easy references on
what has to be additionally modified if a certain component is changed.  The
arrows in the graphs represent dependencies. The component at the tail of an
arrow is depended on by the component at the head of that arrow. Therefore, if a
component is changed, the components that it points to should also be
changed. Figure~\ref{Fig_ATrace} shows the dependencies of theoretical models,
general definitions, data definitions, instance models, likely changes, and
assumptions on each other. Figure~\ref{Fig_RTrace} shows the dependencies of
instance models, requirements, and data constraints on each other.



\section{Development Plan}

The development of \progname{} will be structured into multiple phases, ensuring a modular and iterative approach. The implementation will prioritize core functionalities essential for the robotic arm's motion planning, followed by enhancements for efficiency and usability.

\subsection{Phase 1: Core Functionalities}
\begin{itemize}
    \item[R\ref{R_Inputs}:] Implement user input handling for joint angles, goal position, and obstacles.
    \item[R\ref{R_Calculate}:] Develop forward kinematics calculations to determine the end-effector position from joint angles.
    \item[R\ref{R_Output}:] Display the calculated position of the end-effector.
    \item[R\ref{R_VerifyOutput}:] Verify the correctness of kinematic calculations.
\end{itemize}

\subsection{Phase 2: Path Planning}
\begin{itemize}
    \item[R\ref{R_Calculate}:] Implement inverse kinematics to compute joint angles for a given target position.
    \item[R\ref{R_Calculate}:] Integrate A* search algorithm for path planning in joint space.
    \item[R\ref{R_VerifyOutput}:] Ensure path validity by checking for obstacle collisions.
\end{itemize}

\subsection{Phase 3: Optimization and Usability Enhancements}
\begin{itemize}
    \item[NFR\ref{NFR_Accuracy}:] Improve accuracy of kinematic computations.
    \item[NFR\ref{NFR_Maintainability}:] Ensure modularity in code for easy extension.
\end{itemize}

\section{Values of Auxiliary Constants}

The following table defines symbolic constants introduced in the document for maintainability and ease of modification.

\begin{table}[h!]
\centering
\begin{tabular}{|c|c|c|}
\hline
\textbf{Symbol} & \textbf{Description}  \DIFdelbeginFL %DIFDELCMD < & %%%
\textbf{\DIFdelFL{Value}} %DIFAUXCMD
\DIFdelendFL \\
\hline
$L_1$ & Length of first arm link (\DIFdelbeginFL \DIFdelFL{\si{\milli\metre})  }%DIFDELCMD < & %%%
\DIFdelFL{50 }\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\si{\metre})  }\DIFaddendFL \\
$L_2$ & Length of second arm link (\DIFdelbeginFL \DIFdelFL{\si{\milli\metre}) }%DIFDELCMD < & %%%
\DIFdelFL{40 }\DIFdelendFL \DIFaddbeginFL \DIFaddFL{\si{\metre}) }\DIFaddendFL \\
$\theta_{\min}$ & Minimum joint angle (\si{\degree})  \DIFdelbeginFL %DIFDELCMD < & %%%
\DIFdelFL{$-180$ }\DIFdelendFL \\
$\theta_{\max}$ & Maximum joint angle (\si{\degree}) \DIFdelbeginFL %DIFDELCMD < & %%%
\DIFdelFL{$180$ }\DIFdelendFL \\
$\Delta q$ & Discretization step for A* search (radians)  \DIFdelbeginFL %DIFDELCMD < & %%%
\DIFdelFL{$0.1$ }\DIFdelendFL \\
$\text{FRACTION}$ & Fraction of original development time for maintainability\DIFdelbeginFL %DIFDELCMD < & %%%
\DIFdelFL{$0.1$ }\DIFdelendFL \\
\hline
\end{tabular}
\caption{Values of Auxiliary Constants}
\label{Table:AuxiliaryConstants}
\end{table}

%DIF <  \nocite{*}
%DIF <  \input{../Reflection.tex}
\DIFaddbegin \newpage
\DIFaddend 

%DIF <  \input{../SRS_Reflection.tex}
 \DIFaddbegin \bibliographystyle {\DIFadd{plainnat}}
\bibliography {\DIFadd{../../refs/References}}

\newpage

\newpage{}
\section*{\DIFadd{Appendix --- Reflection}}

\wss{Not required for CAS 741}

\DIFadd{The information in this section will be used to evaluate the team members on the
graduate attribute of Lifelong Learning.  
}\input{../Reflection.tex}

\input{../SRS_Reflection.tex}
 \DIFaddend\end{document}